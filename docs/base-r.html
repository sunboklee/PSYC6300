<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Base R | R, Rstudio, and ggplot2</title>
  <meta name="description" content="This is an introduction to R, Rstudio, and ggplot2" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Base R | R, Rstudio, and ggplot2" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an introduction to R, Rstudio, and ggplot2" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Base R | R, Rstudio, and ggplot2" />
  
  <meta name="twitter:description" content="This is an introduction to R, Rstudio, and ggplot2" />
  

<meta name="author" content="Sunbok Lee" />


<meta name="date" content="2019-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise.html">
<link rel="next" href="base-r-quiz.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> R</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why R?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#cheat-sheets-for-r"><i class="fa fa-check"></i><b>1.4</b> Cheat Sheets for R</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#rmarkdown-files"><i class="fa fa-check"></i><b>1.5</b> Rmarkdown files</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#r-topics-covered-in-this-course"><i class="fa fa-check"></i><b>1.6</b> R topics covered in this course</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>2</b> Introduction to <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#what-is-ggplot2"><i class="fa fa-check"></i><b>2.1</b> What is <code>ggplot2</code>?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#installing-and-laoding-ggplot2"><i class="fa fa-check"></i><b>2.2</b> Installing and laoding <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#graphical-components-of-ggplot2"><i class="fa fa-check"></i><b>2.3</b> Graphical components of <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#data"><i class="fa fa-check"></i><b>2.3.1</b> Data</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#geometric-objects-geoms"><i class="fa fa-check"></i><b>2.3.2</b> Geometric objects (<strong>geoms</strong>)</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>2.3.3</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="2.3.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#scales"><i class="fa fa-check"></i><b>2.3.4</b> Scales</a></li>
<li class="chapter" data-level="2.3.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#statistical-transformations-stats-for-short"><i class="fa fa-check"></i><b>2.3.5</b> Statistical transformations (<strong>stats</strong> for short)</a></li>
<li class="chapter" data-level="2.3.6" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#a-faceting"><i class="fa fa-check"></i><b>2.3.6</b> A faceting</a></li>
<li class="chapter" data-level="2.3.7" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#grouping"><i class="fa fa-check"></i><b>2.3.7</b> Grouping</a></li>
<li class="chapter" data-level="2.3.8" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#themes"><i class="fa fa-check"></i><b>2.3.8</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#saving-a-ggplot"><i class="fa fa-check"></i><b>2.4</b> Saving a ggplot</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#more-resources"><i class="fa fa-check"></i><b>2.5</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="3.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#r-functions-for-descriptive-statistics"><i class="fa fa-check"></i><b>3.1</b> R functions for descriptive statistics</a></li>
<li class="chapter" data-level="3.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#qplot"><i class="fa fa-check"></i><b>3.2</b> qplot()</a></li>
<li class="chapter" data-level="3.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#scatterplots"><i class="fa fa-check"></i><b>3.3</b> Scatterplots</a></li>
<li class="chapter" data-level="3.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#histogram"><i class="fa fa-check"></i><b>3.4</b> Histogram</a></li>
<li class="chapter" data-level="3.5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#density-plots"><i class="fa fa-check"></i><b>3.5</b> Density plots</a></li>
<li class="chapter" data-level="3.6" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#barplots"><i class="fa fa-check"></i><b>3.6</b> Barplots</a></li>
<li class="chapter" data-level="3.7" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#boxplots"><i class="fa fa-check"></i><b>3.7</b> Boxplots</a></li>
<li class="chapter" data-level="3.8" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#faceting"><i class="fa fa-check"></i><b>3.8</b> Faceting</a></li>
<li class="chapter" data-level="3.9" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#the-corrplot-package"><i class="fa fa-check"></i><b>3.9</b> The <code>corrplot</code> Package</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise.html"><a href="exercise.html"><i class="fa fa-check"></i><b>4</b> Exercise</a></li>
<li class="chapter" data-level="5" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>5</b> Base R</a><ul>
<li class="chapter" data-level="5.1" data-path="base-r.html"><a href="base-r.html#topics"><i class="fa fa-check"></i><b>5.1</b> Topics</a></li>
<li class="chapter" data-level="5.2" data-path="base-r.html"><a href="base-r.html#further-reading"><i class="fa fa-check"></i><b>5.2</b> Further reading</a></li>
<li class="chapter" data-level="5.3" data-path="base-r.html"><a href="base-r.html#interaction-with-r"><i class="fa fa-check"></i><b>5.3</b> Interaction with R</a></li>
<li class="chapter" data-level="5.4" data-path="base-r.html"><a href="base-r.html#r-objects-and-variables"><i class="fa fa-check"></i><b>5.4</b> R Objects and Variables</a></li>
<li class="chapter" data-level="5.5" data-path="base-r.html"><a href="base-r.html#data-structure"><i class="fa fa-check"></i><b>5.5</b> Data Structure</a></li>
<li class="chapter" data-level="5.6" data-path="base-r.html"><a href="base-r.html#vectors-come-in-two-flavours"><i class="fa fa-check"></i><b>5.6</b> Vectors Come in Two Flavours</a></li>
<li class="chapter" data-level="5.7" data-path="base-r.html"><a href="base-r.html#a-vector-has-three-properties"><i class="fa fa-check"></i><b>5.7</b> A Vector Has Three Properties</a></li>
<li class="chapter" data-level="5.8" data-path="base-r.html"><a href="base-r.html#attributes"><i class="fa fa-check"></i><b>5.8</b> Attributes</a></li>
<li class="chapter" data-level="5.9" data-path="base-r.html"><a href="base-r.html#type-coercion-conversion"><i class="fa fa-check"></i><b>5.9</b> Type Coercion (Conversion)</a></li>
<li class="chapter" data-level="5.10" data-path="base-r.html"><a href="base-r.html#na-represents-missing"><i class="fa fa-check"></i><b>5.10</b> NA represents missing</a></li>
<li class="chapter" data-level="5.11" data-path="base-r.html"><a href="base-r.html#useful-functions-for-a-vector"><i class="fa fa-check"></i><b>5.11</b> Useful Functions for a vector</a><ul>
<li class="chapter" data-level="5.11.1" data-path="base-r.html"><a href="base-r.html#generate-a-vector"><i class="fa fa-check"></i><b>5.11.1</b> Generate a vector</a></li>
<li class="chapter" data-level="5.11.2" data-path="base-r.html"><a href="base-r.html#indexing-or-subsetting-a-vector"><i class="fa fa-check"></i><b>5.11.2</b> Indexing or subsetting a Vector</a></li>
<li class="chapter" data-level="5.11.3" data-path="base-r.html"><a href="base-r.html#arrange-a-vector"><i class="fa fa-check"></i><b>5.11.3</b> Arrange a vector</a></li>
<li class="chapter" data-level="5.11.4" data-path="base-r.html"><a href="base-r.html#vectorization-of-functions"><i class="fa fa-check"></i><b>5.11.4</b> Vectorization of Functions</a></li>
<li class="chapter" data-level="5.11.5" data-path="base-r.html"><a href="base-r.html#some-more-functions"><i class="fa fa-check"></i><b>5.11.5</b> Some more functions</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="base-r.html"><a href="base-r.html#exercise-on-vectors"><i class="fa fa-check"></i><b>5.12</b> Exercise on vectors</a></li>
<li class="chapter" data-level="5.13" data-path="base-r.html"><a href="base-r.html#factors"><i class="fa fa-check"></i><b>5.13</b> Factors</a><ul>
<li class="chapter" data-level="5.13.1" data-path="base-r.html"><a href="base-r.html#what-is-a-factor"><i class="fa fa-check"></i><b>5.13.1</b> What is a factor?</a></li>
<li class="chapter" data-level="5.13.2" data-path="base-r.html"><a href="base-r.html#creating-a-factor"><i class="fa fa-check"></i><b>5.13.2</b> Creating a factor</a></li>
<li class="chapter" data-level="5.13.3" data-path="base-r.html"><a href="base-r.html#unordered-vs-ordered-factor"><i class="fa fa-check"></i><b>5.13.3</b> unordered vs ordered factor</a></li>
<li class="chapter" data-level="5.13.4" data-path="base-r.html"><a href="base-r.html#why-factors"><i class="fa fa-check"></i><b>5.13.4</b> Why factors?</a></li>
<li class="chapter" data-level="5.13.5" data-path="base-r.html"><a href="base-r.html#some-more-comments"><i class="fa fa-check"></i><b>5.13.5</b> Some more comments</a></li>
<li class="chapter" data-level="5.13.6" data-path="base-r.html"><a href="base-r.html#exercise-1"><i class="fa fa-check"></i><b>5.13.6</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="base-r.html"><a href="base-r.html#lists"><i class="fa fa-check"></i><b>5.14</b> Lists</a><ul>
<li class="chapter" data-level="5.14.1" data-path="base-r.html"><a href="base-r.html#what-is-a-list"><i class="fa fa-check"></i><b>5.14.1</b> What is a list?</a></li>
<li class="chapter" data-level="5.14.2" data-path="base-r.html"><a href="base-r.html#creating-a-list"><i class="fa fa-check"></i><b>5.14.2</b> Creating a list</a></li>
<li class="chapter" data-level="5.14.3" data-path="base-r.html"><a href="base-r.html#why-lists"><i class="fa fa-check"></i><b>5.14.3</b> Why lists?</a></li>
<li class="chapter" data-level="5.14.4" data-path="base-r.html"><a href="base-r.html#subsetting-a-list"><i class="fa fa-check"></i><b>5.14.4</b> Subsetting a List</a></li>
<li class="chapter" data-level="5.14.5" data-path="base-r.html"><a href="base-r.html#exercise-2"><i class="fa fa-check"></i><b>5.14.5</b> Exercise</a></li>
<li class="chapter" data-level="5.14.6" data-path="base-r.html"><a href="base-r.html#data-frames"><i class="fa fa-check"></i><b>5.14.6</b> Data frames</a></li>
<li class="chapter" data-level="5.14.7" data-path="base-r.html"><a href="base-r.html#the-apply-family-of-functions"><i class="fa fa-check"></i><b>5.14.7</b> The apply family of functions</a></li>
<li class="chapter" data-level="5.14.8" data-path="base-r.html"><a href="base-r.html#exercise-3"><i class="fa fa-check"></i><b>5.14.8</b> Exercise</a></li>
<li class="chapter" data-level="5.14.9" data-path="base-r.html"><a href="base-r.html#more-resources-1"><i class="fa fa-check"></i><b>5.14.9</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="base-r.html"><a href="base-r.html#matrices-and-arrays"><i class="fa fa-check"></i><b>5.15</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="5.16" data-path="base-r.html"><a href="base-r.html#data-frames-1"><i class="fa fa-check"></i><b>5.16</b> Data Frames</a></li>
<li class="chapter" data-level="5.17" data-path="base-r.html"><a href="base-r.html#operators"><i class="fa fa-check"></i><b>5.17</b> Operators</a></li>
<li class="chapter" data-level="5.18" data-path="base-r.html"><a href="base-r.html#subsetting-a-matrix-and-array"><i class="fa fa-check"></i><b>5.18</b> Subsetting a Matrix and Array</a></li>
<li class="chapter" data-level="5.19" data-path="base-r.html"><a href="base-r.html#exercise-4"><i class="fa fa-check"></i><b>5.19</b> Exercise</a></li>
<li class="chapter" data-level="5.20" data-path="base-r.html"><a href="base-r.html#combine-matrices-by-columns-or-rows"><i class="fa fa-check"></i><b>5.20</b> Combine Matrices by Columns or Rows</a></li>
<li class="chapter" data-level="5.21" data-path="base-r.html"><a href="base-r.html#names-of-the-columns-and-rows-of-matrices"><i class="fa fa-check"></i><b>5.21</b> Names of the Columns and Rows of Matrices</a></li>
<li class="chapter" data-level="5.22" data-path="base-r.html"><a href="base-r.html#functions"><i class="fa fa-check"></i><b>5.22</b> Functions</a></li>
<li class="chapter" data-level="5.23" data-path="base-r.html"><a href="base-r.html#an-example-of-functions"><i class="fa fa-check"></i><b>5.23</b> An Example of Functions</a></li>
<li class="chapter" data-level="5.24" data-path="base-r.html"><a href="base-r.html#user-defined-functions"><i class="fa fa-check"></i><b>5.24</b> User-Defined Functions</a></li>
<li class="chapter" data-level="5.25" data-path="base-r.html"><a href="base-r.html#exercise-5"><i class="fa fa-check"></i><b>5.25</b> Exercise</a></li>
<li class="chapter" data-level="5.26" data-path="base-r.html"><a href="base-r.html#some-comments-on-functions"><i class="fa fa-check"></i><b>5.26</b> Some Comments on Functions</a></li>
<li class="chapter" data-level="5.27" data-path="base-r.html"><a href="base-r.html#generating-sequences"><i class="fa fa-check"></i><b>5.27</b> Generating Sequences</a></li>
<li class="chapter" data-level="5.28" data-path="base-r.html"><a href="base-r.html#control-flow-if-else"><i class="fa fa-check"></i><b>5.28</b> Control Flow (if-else)</a></li>
<li class="chapter" data-level="5.29" data-path="base-r.html"><a href="base-r.html#control-flow-for"><i class="fa fa-check"></i><b>5.29</b> Control Flow (for)</a></li>
<li class="chapter" data-level="5.30" data-path="base-r.html"><a href="base-r.html#control-flow-for-1"><i class="fa fa-check"></i><b>5.30</b> Control Flow (for)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="base-r-quiz.html"><a href="base-r-quiz.html"><i class="fa fa-check"></i><b>6</b> Base R Quiz</a><ul>
<li class="chapter" data-level="6.0.1" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset1-diamonds-is-a-dataset-in-ggplot2-containing-the-prices-and-other-attributes-of-almost-54000-diamonds.-in-the-dataset-price-is-the-price-of-diamonds-in-us-dollars-and-carat-is-the-weight-of-the-diamonds-0.2-5.01."><i class="fa fa-check"></i><b>6.0.1</b> Dataset1: <code>diamonds</code> is a dataset in <code>ggplot2</code> containing the prices and other attributes of almost 54,000 diamonds. In the dataset, <code>price</code> is the price of diamonds in US dollars, and <code>carat</code> is the weight of the diamonds (0.2-5.01).</a></li>
<li class="chapter" data-level="6.0.2" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-1"><i class="fa fa-check"></i><b>6.0.2</b> Quiz problem 1</a></li>
<li class="chapter" data-level="6.0.3" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-2"><i class="fa fa-check"></i><b>6.0.3</b> Quiz problem 2</a></li>
<li class="chapter" data-level="6.0.4" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-3"><i class="fa fa-check"></i><b>6.0.4</b> Quiz problem 3</a></li>
<li class="chapter" data-level="6.0.5" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-4"><i class="fa fa-check"></i><b>6.0.5</b> Quiz problem 4</a></li>
<li class="chapter" data-level="6.0.6" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-5"><i class="fa fa-check"></i><b>6.0.6</b> Quiz problem 5</a></li>
<li class="chapter" data-level="6.0.7" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset2-bfi-is-a-dataset-in-the-psych-package-containing-25-personality-self-report-items-taken-from-the-international-personality-item-pool.-in-the-dataset"><i class="fa fa-check"></i><b>6.0.7</b> Dataset2: <code>bfi</code> is a dataset in the <code>psych</code> package containing 25 personality self report items taken from the International Personality Item Pool. In the dataset,</a></li>
<li class="chapter" data-level="6.0.8" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-6"><i class="fa fa-check"></i><b>6.0.8</b> Quiz problem 6</a></li>
<li class="chapter" data-level="6.0.9" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-7"><i class="fa fa-check"></i><b>6.0.9</b> Quiz problem 7</a></li>
<li class="chapter" data-level="6.0.10" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-8"><i class="fa fa-check"></i><b>6.0.10</b> Quiz problem 8</a></li>
<li class="chapter" data-level="6.0.11" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-9"><i class="fa fa-check"></i><b>6.0.11</b> Quiz problem 9</a></li>
<li class="chapter" data-level="6.0.12" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-10"><i class="fa fa-check"></i><b>6.0.12</b> Quiz problem 10</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R, Rstudio, and ggplot2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="base-r" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Base R</h1>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1"><span class="kw">suppressMessages</span>(<span class="kw">library</span>(tidyverse))</a></code></pre></div>
<div id="topics" class="section level2">
<h2><span class="header-section-number">5.1</span> Topics</h2>
<ul>
<li>R Objects and Variables</li>
<li>Data Structure</li>
<li>Sub-Setting</li>
<li>Functions</li>
<li>Control Flow (if, for, while)</li>
</ul>
</div>
<div id="further-reading" class="section level2">
<h2><span class="header-section-number">5.2</span> Further reading</h2>
<ul>
<li>Wickham, H. (2014). Advanced R. Chapman and Hall/CRC
<ul>
<li><a href="http://adv-r.had.co.nz">http://adv-r.had.co.nz</a></li>
<li>This is a nice book to read after you become comfortable in base R (not required in this course)</li>
</ul></li>
</ul>
</div>
<div id="interaction-with-r" class="section level2">
<h2><span class="header-section-number">5.3</span> Interaction with R</h2>
<ul>
<li>R Console: for easy interactive exploration of ideas</li>
<li>R Script file (.R): for sequence of R commands</li>
<li>R markdown (.Rmd): for reproducible and dynamic reports</li>
</ul>
</div>
<div id="r-objects-and-variables" class="section level2">
<h2><span class="header-section-number">5.4</span> R Objects and Variables</h2>
<ul>
<li><strong>Everything in R is stored as an object</strong>, which is associated with a variable name.</li>
<li>An object is a technical terminology defined in <strong>Object Oriented Programming (OOP)</strong>. (OOP is an important concept but not in this class)</li>
<li>A variable name can be assigned to an object using the <strong>assignment operator</strong>.</li>
</ul>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1"><span class="co"># store a number to a variable named `a`</span></a>
<a class="sourceLine" id="cb104-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="fl">0.2</span></a></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1"><span class="co"># print a</span></a>
<a class="sourceLine" id="cb105-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [1] 0.2</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1"><span class="co"># store a vector to a variable named `b`</span></a>
<a class="sourceLine" id="cb107-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>)</a></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1"><span class="co"># print b</span></a>
<a class="sourceLine" id="cb108-2" data-line-number="2">b</a></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">z &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb110-2" data-line-number="2">i &lt;-<span class="st"> </span>(z <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">45</span>)<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb110-3" data-line-number="3">i</a></code></pre></div>
<pre><code>## [1] 27.5</code></pre>
<ul>
<li>We can think of the assignment operation as â€œ<strong>evaluate</strong> whatever is given on the <strong>right side</strong> of the operator, and assign (store) the result (an object of some type) of this evaluation in the variable whose name is given on the <strong>left side</strong></li>
</ul>
</div>
<div id="data-structure" class="section level2">
<h2><span class="header-section-number">5.5</span> Data Structure</h2>
<ul>
<li>R has <strong>base data structures</strong>.</li>
<li>Almost all other objects are built upon base data structures.</li>
<li>R base data structures can be organized by their dimensionality:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Dimension</th>
<th>Homogeneous</th>
<th>Heterogeneous</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1D</td>
<td>Atomic vector</td>
<td>List</td>
</tr>
<tr class="even">
<td>2D</td>
<td>Matrix</td>
<td>Data frame</td>
</tr>
<tr class="odd">
<td>nD</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="datastructure.png" /></p>
</div>
<div id="vectors-come-in-two-flavours" class="section level2">
<h2><span class="header-section-number">5.6</span> Vectors Come in Two Flavours</h2>
<ul>
<li>Atomic vectors (homogeneous)
<ul>
<li>All elements of an atomic vector <strong>must be the same type</strong>.</li>
<li>There are <strong>6 types</strong> of an atomic vector
<ul>
<li><strong>Logical</strong> (TRUE or FALSE), <strong>integer</strong>, <strong>double</strong>, and <strong>character</strong> (+ rarely used <strong>complex</strong> and <strong>raw</strong>)</li>
</ul></li>
<li>Atomic vectors are usually created with <code>c()</code>, short for combine:
<ul>
<li><code>a &lt;- c(TRUE, FALSE, T, F)</code> # logical</li>
<li><code>a &lt;- c(1L, 6L, 5L)</code> # integer</li>
<li><code>a &lt;- c(1, 2.5, 3.8)</code> # double</li>
<li><code>a &lt;- c(&quot;apple&quot;, &quot;orange&quot;)</code> # character</li>
</ul></li>
</ul></li>
<li>Lists (heterogeneous)
<ul>
<li>Lists are different from atomic vectors because their elements can be of any type.</li>
<li>List are created by <code>list()</code></li>
<li><code>&gt; x &lt;- list(1:3, &quot;a&quot;, c(TRUE, FALSE))</code></li>
</ul></li>
</ul>
</div>
<div id="a-vector-has-three-properties" class="section level2">
<h2><span class="header-section-number">5.7</span> A Vector Has Three Properties</h2>
<ul>
<li><strong>Type</strong>: <code>typeof()</code> returns the type of an object.</li>
</ul>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="kw">typeof</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<ul>
<li><strong>Length</strong>: <code>length()</code> returns the number of elements in a vector</li>
</ul>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li><strong>Attributes</strong>: <code>attributes()</code> returns additional arbitrary metadata</li>
</ul>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="kw">attributes</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="attributes" class="section level2">
<h2><span class="header-section-number">5.8</span> Attributes</h2>
<ul>
<li>All objects can have attributes to store <strong>metadata</strong> about the object.</li>
<li>Attributes can be considered as a <strong>named list</strong>.</li>
<li>Attributes can be accessed individually with <code>attr()</code> or all at once with <code>attributes()</code>.</li>
<li>Names are attributes of a vector. You can name a vector in two ways:</li>
</ul>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">x=</span><span class="dv">1</span>,<span class="dt">y=</span><span class="dv">2</span>,<span class="dt">z=</span><span class="dv">3</span>)   <span class="co"># when creating</span></a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="kw">names</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">names</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;n&quot;</span>)   <span class="co"># by modifying existing names</span></a>
<a class="sourceLine" id="cb120-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## l m n 
## 1 2 3</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">attributes</span>(a)    <span class="co"># names are attributes</span></a></code></pre></div>
<pre><code>## $names
## [1] &quot;l&quot; &quot;m&quot; &quot;n&quot;</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">attributes</span>(mtcars)</a></code></pre></div>
<pre><code>## $names
##  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
## [11] &quot;carb&quot;
## 
## $row.names
##  [1] &quot;Mazda RX4&quot;           &quot;Mazda RX4 Wag&quot;       &quot;Datsun 710&quot;         
##  [4] &quot;Hornet 4 Drive&quot;      &quot;Hornet Sportabout&quot;   &quot;Valiant&quot;            
##  [7] &quot;Duster 360&quot;          &quot;Merc 240D&quot;           &quot;Merc 230&quot;           
## [10] &quot;Merc 280&quot;            &quot;Merc 280C&quot;           &quot;Merc 450SE&quot;         
## [13] &quot;Merc 450SL&quot;          &quot;Merc 450SLC&quot;         &quot;Cadillac Fleetwood&quot; 
## [16] &quot;Lincoln Continental&quot; &quot;Chrysler Imperial&quot;   &quot;Fiat 128&quot;           
## [19] &quot;Honda Civic&quot;         &quot;Toyota Corolla&quot;      &quot;Toyota Corona&quot;      
## [22] &quot;Dodge Challenger&quot;    &quot;AMC Javelin&quot;         &quot;Camaro Z28&quot;         
## [25] &quot;Pontiac Firebird&quot;    &quot;Fiat X1-9&quot;           &quot;Porsche 914-2&quot;      
## [28] &quot;Lotus Europa&quot;        &quot;Ford Pantera L&quot;      &quot;Ferrari Dino&quot;       
## [31] &quot;Maserati Bora&quot;       &quot;Volvo 142E&quot;         
## 
## $class
## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="type-coercion-conversion" class="section level2">
<h2><span class="header-section-number">5.9</span> Type Coercion (Conversion)</h2>
<ul>
<li>All elements of a vector must belong to the same base data type. If that is not true, R will automatically <strong>force</strong> it by type coercion.</li>
</ul>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="fl">23.5</span>, <span class="fl">76.2</span>, <span class="dv">80</span>, <span class="st">&quot;rrt&quot;</span>)</a>
<a class="sourceLine" id="cb126-2" data-line-number="2">v</a></code></pre></div>
<pre><code>## [1] &quot;4&quot;    &quot;7&quot;    &quot;23.5&quot; &quot;76.2&quot; &quot;80&quot;   &quot;rrt&quot;</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="kw">typeof</span>(v)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<ul>
<li>Functions can automatically convert data type.</li>
</ul>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>You can <strong>explicitly</strong> convert data type with <code>as.character()</code>, <code>as.double()</code>, <code>as.integer()</code>, and <code>as.logical()</code>.</li>
</ul>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb132-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">as.character</span>(a)</a>
<a class="sourceLine" id="cb134-2" data-line-number="2">b</a></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
</div>
<div id="na-represents-missing" class="section level2">
<h2><span class="header-section-number">5.10</span> NA represents missing</h2>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1">u &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="ot">NA</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb136-2" data-line-number="2">u</a></code></pre></div>
<pre><code>## [1]  4  6 NA  2</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1">k &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">NA</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb138-2" data-line-number="2">k</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE    NA  TRUE</code></pre>
</div>
<div id="useful-functions-for-a-vector" class="section level2">
<h2><span class="header-section-number">5.11</span> Useful Functions for a vector</h2>
<div id="generate-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.1</span> Generate a vector</h3>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1"><span class="co"># we can manually type the element of a vector using c()</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb140-3" data-line-number="3">a</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="co"># c() also combine vectors</span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb142-3" data-line-number="3">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb142-4" data-line-number="4">c &lt;-<span class="st"> </span><span class="kw">c</span>(a, b)</a>
<a class="sourceLine" id="cb142-5" data-line-number="5">c</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="co"># k:n generates a vector whose elements are the sequence of numbers from k to n</span></a>
<a class="sourceLine" id="cb144-2" data-line-number="2"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="co"># seq() generates regular sequence</span></a>
<a class="sourceLine" id="cb146-2" data-line-number="2"><span class="co"># seq(from, to)</span></a>
<a class="sourceLine" id="cb146-3" data-line-number="3"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1"><span class="co"># seq(from, to, by)</span></a>
<a class="sourceLine" id="cb148-2" data-line-number="2"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1"><span class="co"># rep(x, times) replicates the values in x multiple times</span></a>
<a class="sourceLine" id="cb150-2" data-line-number="2"><span class="co"># x can be a number or vector</span></a>
<a class="sourceLine" id="cb150-3" data-line-number="3"><span class="co"># replicates 1 5 times</span></a>
<a class="sourceLine" id="cb150-4" data-line-number="4"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 1 1 1 1 1</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="co"># replicates c(1, 2) 5 times</span></a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dv">5</span>)</a></code></pre></div>
<pre><code>##  [1] 1 2 1 2 1 2 1 2 1 2</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="co"># each element of c(1,2) is repeated 5 times</span></a>
<a class="sourceLine" id="cb154-2" data-line-number="2"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">each =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>##  [1] 1 1 1 1 1 2 2 2 2 2</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1"><span class="co"># rnorm(n, mean = 0, sd = 1) generates a vector of n random samples </span></a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="co"># from a normal distribution with specific mean and sd. </span></a>
<a class="sourceLine" id="cb156-3" data-line-number="3"><span class="kw">rnorm</span>(<span class="dv">100</span>)</a></code></pre></div>
<pre><code>##   [1] -1.50064289 -0.09232959  1.51099445  0.30771100 -2.11872899
##   [6] -0.05685353  0.22309149  0.30422586  0.21779854 -0.06307553
##  [11]  0.56882567 -1.27383000  0.65382400  0.15746376 -0.95173637
##  [16]  1.25437218 -0.82893253 -0.24055288 -0.52348289  0.43142608
##  [21] -0.29066305 -1.08937099 -1.63957156 -1.15067507 -0.73545067
##  [26] -0.29453143  1.31037036 -0.78065229  0.17939720 -0.10468728
##  [31]  0.92749209 -1.82662432 -0.66500763 -0.22532103 -0.41288537
##  [36] -1.14619516 -1.88670771  0.82241267 -0.54732119  0.43038359
##  [41]  0.37592490 -0.19037314 -0.14435660  0.47530037 -0.44332282
##  [46]  1.49063643 -0.31107515  0.33437520 -0.74257018  0.73820044
##  [51]  2.21907859 -0.38155419  0.42722707 -0.41056292 -0.42869752
##  [56]  0.59940149  0.22416178  0.49632796 -1.18042672  0.33535533
##  [61] -0.23078888 -0.17379086  1.76907221  0.12846795 -0.56794428
##  [66]  0.42175278 -0.04368964 -0.18414430 -0.47615853  1.28149868
##  [71] -1.14456766  1.46138269 -0.71340480 -1.09779688 -0.66766269
##  [76]  0.60637631 -0.20806145 -1.45006030  0.31735634 -0.61015000
##  [81]  0.74043753  0.84555448  0.82591923  1.00859929 -0.54001287
##  [86]  0.03098207 -0.28437267  1.17788529 -0.27761821  0.95472443
##  [91]  0.24571510  0.20817059 -2.00108190 -0.71360374  0.72633346
##  [96]  0.17714022 -1.52187767  0.12955661 -0.42512501  1.60120381</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">qplot</span>(<span class="kw">rnorm</span>(<span class="dv">10000</span>))</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="co"># runif(n, min, max) generates a vector of n random samples </span></a>
<a class="sourceLine" id="cb160-2" data-line-number="2"><span class="co"># from a uniform distribution whose limits are min and max. </span></a>
<a class="sourceLine" id="cb160-3" data-line-number="3"><span class="kw">runif</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">1</span>)</a></code></pre></div>
<pre><code>##   [1] 0.943861250 0.056311908 0.633182602 0.710232072 0.825482420
##   [6] 0.613926861 0.892977876 0.362883682 0.252323278 0.154669180
##  [11] 0.935391706 0.779894701 0.949384364 0.842298174 0.006477969
##  [16] 0.512337480 0.816121064 0.245569136 0.317458130 0.143820596
##  [21] 0.713143229 0.455837973 0.090807271 0.427967532 0.270272379
##  [26] 0.180963991 0.636886485 0.869165608 0.796816674 0.207053073
##  [31] 0.435920799 0.385779594 0.810495143 0.999571885 0.816710621
##  [36] 0.347581698 0.977308467 0.971030333 0.044824908 0.515177422
##  [41] 0.234326150 0.028252058 0.415710200 0.781344965 0.760601581
##  [46] 0.716445617 0.187679717 0.263395456 0.618253534 0.483415370
##  [51] 0.394245577 0.175613471 0.489124339 0.407617667 0.588132814
##  [56] 0.924699242 0.872080879 0.521349988 0.899478856 0.077489302
##  [61] 0.214530362 0.303936806 0.238274281 0.138821038 0.951167596
##  [66] 0.634681566 0.951008948 0.590403458 0.704886384 0.026499815
##  [71] 0.945091792 0.615273389 0.954513302 0.334425333 0.490162405
##  [76] 0.494714282 0.111688823 0.341452840 0.954537064 0.353035126
##  [81] 0.586598723 0.201051355 0.691329050 0.620701057 0.362276409
##  [86] 0.485252253 0.350977099 0.580565370 0.141097489 0.503133415
##  [91] 0.747081937 0.725385464 0.765119377 0.766300231 0.163137351
##  [96] 0.673589961 0.993566201 0.684381658 0.209214546 0.514808541</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"><span class="kw">qplot</span>(<span class="kw">runif</span>(<span class="dv">10000</span>, <span class="dv">0</span>, <span class="dv">1</span>))</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-105-1.png" width="672" /></p>
</div>
<div id="indexing-or-subsetting-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.2</span> Indexing or subsetting a Vector</h3>
<ul>
<li><p>You can access a particular element of a vector through an <strong>index</strong> between <strong>square brackets</strong> or <strong>indexing (subsetting) operator</strong>.</p></li>
<li><p><strong>Positive integers</strong> return elements at the specified positions.</p></li>
</ul>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb164-2" data-line-number="2">x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>)]</a></code></pre></div>
<pre><code>## [1] 4 2</code></pre>
<ul>
<li><strong>Negative integers</strong> omit elements at the specified positions:</li>
</ul>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1">x[<span class="op">-</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>)]</a></code></pre></div>
<pre><code>## [1] 3 5 6 7</code></pre>
<ul>
<li><strong>Logical vectors</strong> select elements where the corresponding logical value is TRUE. This <strong>logical indexing</strong> is very useful because we can subset a vector or dataframe based on conditions.</li>
</ul>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" data-line-number="1">x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>)]</a></code></pre></div>
<pre><code>## [1] 2 3 6 7</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" data-line-number="1">x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" data-line-number="1"><span class="co"># This is called a logical indexing, which is a very powerful tool.</span></a>
<a class="sourceLine" id="cb172-2" data-line-number="2"><span class="co"># &gt; : greater than (Logical Operators)</span></a>
<a class="sourceLine" id="cb172-3" data-line-number="3">x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>]   </a></code></pre></div>
<pre><code>## [1] 4 5 6 7</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" data-line-number="1">x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>]</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="co"># %in% operator </span></a>
<a class="sourceLine" id="cb176-2" data-line-number="2"><span class="co"># v1 %in% v2 returns a logical vector indicating </span></a>
<a class="sourceLine" id="cb176-3" data-line-number="3"><span class="co"># whether the elements of v1 are included in v2. </span></a>
<a class="sourceLine" id="cb176-4" data-line-number="4"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb178-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1"><span class="co"># we replace an element of a vector using the indexing and assignment operators. </span></a>
<a class="sourceLine" id="cb180-2" data-line-number="2">a[<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb180-3" data-line-number="3">a</a></code></pre></div>
<pre><code>## [1]   1   2 100   4   5</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1">a[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)] &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb182-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [1] 100   2 100   4 100</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NA</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb184-2" data-line-number="2">a</a></code></pre></div>
<pre><code>## [1]  1  2  3 NA  5  6 NA</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1"><span class="co"># is.na indicates which elements are missing</span></a>
<a class="sourceLine" id="cb186-2" data-line-number="2"><span class="kw">is.na</span>(a)  <span class="co"># returns TRUE when missing</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1"><span class="co"># Type conversion: TRUE and FALSE will be converted into 1 and 0, respectively. </span></a>
<a class="sourceLine" id="cb188-2" data-line-number="2"><span class="co"># This expression answers the question: How many NSs are in a?</span></a>
<a class="sourceLine" id="cb188-3" data-line-number="3"><span class="kw">sum</span>(<span class="kw">is.na</span>(a))</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1"><span class="co"># !x = not x (negation)</span></a>
<a class="sourceLine" id="cb190-2" data-line-number="2"><span class="op">!</span><span class="kw">is.na</span>(a)  <span class="co"># returns TRUE when not missing</span></a></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1"><span class="co"># This expression answers the question: How many non-NSs are in a?</span></a>
<a class="sourceLine" id="cb192-2" data-line-number="2"><span class="kw">sum</span>(<span class="op">!</span><span class="kw">is.na</span>(a))</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="co"># logical indexing</span></a>
<a class="sourceLine" id="cb194-2" data-line-number="2">a[<span class="kw">is.na</span>(a)] &lt;-<span class="st"> </span><span class="dv">999</span></a>
<a class="sourceLine" id="cb194-3" data-line-number="3">a</a></code></pre></div>
<pre><code>## [1]   1   2   3 999   5   6 999</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1"><span class="co"># create a vector with names</span></a>
<a class="sourceLine" id="cb196-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">2</span>, <span class="dt">z =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb196-3" data-line-number="3">a</a></code></pre></div>
<pre><code>## x y z 
## 1 2 3</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1"><span class="co"># named vector can be indexed using their names</span></a>
<a class="sourceLine" id="cb198-2" data-line-number="2">a[<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>)]</a></code></pre></div>
<pre><code>## x z 
## 1 3</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span></a>
<a class="sourceLine" id="cb200-2" data-line-number="2"><span class="co"># In this example, R recycled c(TRUE, FALSE) to produce c(TRUE, FALSE, TRUE, FALSE)</span></a>
<a class="sourceLine" id="cb200-3" data-line-number="3">i &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb200-4" data-line-number="4">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb200-5" data-line-number="5">a[i]</a></code></pre></div>
<pre><code>## [1] 1 3</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb202-3" data-line-number="3">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb202-4" data-line-number="4">v1<span class="op">+</span>v2</a></code></pre></div>
<pre><code>## [1] 14 15 16 17</code></pre>
</div>
<div id="arrange-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.3</span> Arrange a vector</h3>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="co"># sort(x, decreasing = FALSE) </span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="co"># By default, sort() sorts ascending order.</span></a>
<a class="sourceLine" id="cb204-3" data-line-number="3"><span class="kw">sort</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</a></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="co"># sorts into descending order</span></a>
<a class="sourceLine" id="cb206-2" data-line-number="2"><span class="kw">sort</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 6 5 4</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="co"># rev() provides a reversed version of its argument</span></a>
<a class="sourceLine" id="cb208-2" data-line-number="2"><span class="kw">rev</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</a></code></pre></div>
<pre><code>## [1] 4 6 5</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1"><span class="co"># rank() returns the sample ranks of the elements in a vector</span></a>
<a class="sourceLine" id="cb210-2" data-line-number="2"><span class="kw">rank</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</a></code></pre></div>
<pre><code>## [1] 2 3 1</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="co"># order() returns a permutation which rearranges </span></a>
<a class="sourceLine" id="cb212-2" data-line-number="2"><span class="co"># its first argument into ascending or descending order. </span></a>
<a class="sourceLine" id="cb212-3" data-line-number="3"><span class="co"># What this means is order(c(5,6,4)) </span></a>
<a class="sourceLine" id="cb212-4" data-line-number="4"><span class="co"># 1) first sorts a vector in ascending order to produce c(4,5,6)</span></a>
<a class="sourceLine" id="cb212-5" data-line-number="5"><span class="co"># 2) and returns the indices of the sorted element in the original vector. </span></a>
<a class="sourceLine" id="cb212-6" data-line-number="6"><span class="co"># e.g., we have 3 first b/c the index of 4 in the original vector is 3</span></a>
<a class="sourceLine" id="cb212-7" data-line-number="7"><span class="co"># e.g., we have 1 first b/c the index of 5 in the original vector is 1</span></a>
<a class="sourceLine" id="cb212-8" data-line-number="8"><span class="co"># e.g., we have 2 first b/c the index of 6 in the original vector is 2</span></a>
<a class="sourceLine" id="cb212-9" data-line-number="9"><span class="kw">order</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</a></code></pre></div>
<pre><code>## [1] 3 1 2</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1"><span class="co"># We use order() to sort a vector or dataframe</span></a>
<a class="sourceLine" id="cb214-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb214-3" data-line-number="3">a[<span class="kw">order</span>(a)]</a></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="co"># sort a dataframe</span></a>
<a class="sourceLine" id="cb216-2" data-line-number="2"><span class="kw">head</span>(mtcars[<span class="kw">order</span>(mtcars<span class="op">$</span>mpg), ])</a></code></pre></div>
<pre><code>##                      mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Cadillac Fleetwood  10.4   8  472 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4
## Camaro Z28          13.3   8  350 245 3.73 3.840 15.41  0  0    3    4
## Duster 360          14.3   8  360 245 3.21 3.570 15.84  0  0    3    4
## Chrysler Imperial   14.7   8  440 230 3.23 5.345 17.42  0  0    3    4
## Maserati Bora       15.0   8  301 335 3.54 3.570 14.60  0  1    5    8</code></pre>
</div>
<div id="vectorization-of-functions" class="section level3">
<h3><span class="header-section-number">5.11.4</span> Vectorization of Functions</h3>
<ul>
<li>One of the most powerful aspects of R is the vectorization of functions.</li>
<li>Many R functions can be applied to a vector of values producing an <strong>equal-sized vector of results</strong>.</li>
</ul>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">25</span>)</a>
<a class="sourceLine" id="cb218-2" data-line-number="2"><span class="kw">sqrt</span>(v)</a></code></pre></div>
<pre><code>## [1] 1 2 5</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb220-2" data-line-number="2">v<span class="op">^</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb222-2" data-line-number="2">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb222-3" data-line-number="3">v1<span class="op">+</span>v2</a></code></pre></div>
<pre><code>## [1] 14  7  7  9</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span></a>
<a class="sourceLine" id="cb224-2" data-line-number="2">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb224-3" data-line-number="3">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb224-4" data-line-number="4">v1<span class="op">+</span>v2</a></code></pre></div>
<pre><code>## [1] 14  7 16  9</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="co"># mean will be subtracted from every element of v1</span></a>
<a class="sourceLine" id="cb226-2" data-line-number="2">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb226-3" data-line-number="3">v1 <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(v1)</a></code></pre></div>
<pre><code>## [1] -1.5 -0.5  0.5  1.5</code></pre>
</div>
<div id="some-more-functions" class="section level3">
<h3><span class="header-section-number">5.11.5</span> Some more functions</h3>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="co"># table() creates a frequency table</span></a>
<a class="sourceLine" id="cb228-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb228-3" data-line-number="3"><span class="kw">table</span>(a)</a></code></pre></div>
<pre><code>## a
## 1 2 3 4 
## 2 3 3 5</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="co"># unique() returns a vector of unique elements</span></a>
<a class="sourceLine" id="cb230-2" data-line-number="2"><span class="kw">unique</span>(a)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NA</span>,<span class="dv">5</span>)</a></code></pre></div>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" data-line-number="1"><span class="co"># By default, mean() produces NA when there&#39;s NAs in a vector</span></a>
<a class="sourceLine" id="cb233-2" data-line-number="2"><span class="kw">mean</span>(a)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" data-line-number="1"><span class="co"># na.rm = TRUE removes NAs before computation</span></a>
<a class="sourceLine" id="cb235-2" data-line-number="2"><span class="kw">mean</span>(a, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 2.75</code></pre>
</div>
</div>
<div id="exercise-on-vectors" class="section level2">
<h2><span class="header-section-number">5.12</span> Exercise on vectors</h2>
<p><code>mtcars</code> is a dataframe about fuel economy of various cars. In the dataset, <code>mpg</code> represents miles per gallon. <code>mtcars$mpg</code> allows us to access the <code>mpg</code> variable in the <code>mtcars</code> dataframe.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb237-1" data-line-number="1">a &lt;-<span class="st"> </span>mtcars<span class="op">$</span>mpg</a></code></pre></div>
<ul>
<li>Calculate the length of the vector <code>a</code>.</li>
</ul>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="kw">length</span>(a)</a></code></pre></div>
<pre><code>## [1] 32</code></pre>
<ul>
<li>Calculate the mean of <code>a</code> using <code>sum()</code> and <code>length()</code> functions.</li>
</ul>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="kw">sum</span>(a)<span class="op">/</span><span class="kw">length</span>(a)</a></code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
<ul>
<li>Calculate the mean of <code>a</code> using <code>mean()</code> function.</li>
</ul>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="kw">mean</span>(a)</a></code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> using <code>sd()</code> function.</li>
</ul>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="kw">sd</span>(a)<span class="op">^</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> using <code>var()</code> function.</li>
</ul>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="kw">var</span>(a)</a></code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> by directly calculating the following expression: <span class="math inline">\([(a_1 - \bar{a})^2 + (a_2 - \bar{a})^2 + ... (a_n - \bar{a})^2]/(n-1) = \frac{\sum_{i=1}^{n}(a_i-\bar{a})^2}{n-1}\)</span>, where <span class="math inline">\(a = (a_1, a_2, ... , a_n)\)</span> and <span class="math inline">\(\bar{a} = mean(a)\)</span></li>
</ul>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="kw">sum</span>((a<span class="op">-</span><span class="kw">mean</span>(a))<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(<span class="kw">length</span>(a)<span class="op">-</span><span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Standardize the vector <code>a</code>, i.e., <span class="math inline">\(z = \frac{a-\bar{a}}{sd(a)}\)</span>.</li>
</ul>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1">(a<span class="op">-</span><span class="kw">mean</span>(a))<span class="op">/</span><span class="kw">sd</span>(a)</a></code></pre></div>
<pre><code>##  [1]  0.15088482  0.15088482  0.44954345  0.21725341 -0.23073453
##  [6] -0.33028740 -0.96078893  0.71501778  0.44954345 -0.14777380
## [11] -0.38006384 -0.61235388 -0.46302456 -0.81145962 -1.60788262
## [16] -1.60788262 -0.89442035  2.04238943  1.71054652  2.29127162
## [21]  0.23384555 -0.76168319 -0.81145962 -1.12671039 -0.14777380
## [26]  1.19619000  0.98049211  1.71054652 -0.71190675 -0.06481307
## [31] -0.84464392  0.21725341</code></pre>
<ul>
<li>Use <code>scale()</code> function to standardize <code>a</code> and compare the results with your manual calculation.</li>
</ul>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1"><span class="co"># check the help document of scale() by typing ?scale for more details</span></a>
<a class="sourceLine" id="cb252-2" data-line-number="2"><span class="kw">scale</span>(a)</a></code></pre></div>
<pre><code>##              [,1]
##  [1,]  0.15088482
##  [2,]  0.15088482
##  [3,]  0.44954345
##  [4,]  0.21725341
##  [5,] -0.23073453
##  [6,] -0.33028740
##  [7,] -0.96078893
##  [8,]  0.71501778
##  [9,]  0.44954345
## [10,] -0.14777380
## [11,] -0.38006384
## [12,] -0.61235388
## [13,] -0.46302456
## [14,] -0.81145962
## [15,] -1.60788262
## [16,] -1.60788262
## [17,] -0.89442035
## [18,]  2.04238943
## [19,]  1.71054652
## [20,]  2.29127162
## [21,]  0.23384555
## [22,] -0.76168319
## [23,] -0.81145962
## [24,] -1.12671039
## [25,] -0.14777380
## [26,]  1.19619000
## [27,]  0.98049211
## [28,]  1.71054652
## [29,] -0.71190675
## [30,] -0.06481307
## [31,] -0.84464392
## [32,]  0.21725341
## attr(,&quot;scaled:center&quot;)
## [1] 20.09062
## attr(,&quot;scaled:scale&quot;)
## [1] 6.026948</code></pre>
<ul>
<li>Calculate the difference between the largest and smallest numbers in <code>a</code>.</li>
</ul>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="kw">max</span>(a)<span class="op">-</span><span class="kw">min</span>(a)</a></code></pre></div>
<pre><code>## [1] 23.5</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="co"># another solution</span></a>
<a class="sourceLine" id="cb256-2" data-line-number="2"><span class="kw">diff</span>(<span class="kw">range</span>(a))</a></code></pre></div>
<pre><code>## [1] 23.5</code></pre>
<ul>
<li>Normalize the vector <code>a</code>, i.e., <span class="math inline">\(n = \frac{(x-min(x))}{(max(x)-min(x))}\)</span>.</li>
</ul>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1"><span class="co"># your maximum value will be 1, and minimum value will be 0. </span></a>
<a class="sourceLine" id="cb258-2" data-line-number="2">(a<span class="op">-</span><span class="kw">min</span>(a))<span class="op">/</span>(<span class="kw">max</span>(a)<span class="op">-</span><span class="kw">min</span>(a))</a></code></pre></div>
<pre><code>##  [1] 0.4510638 0.4510638 0.5276596 0.4680851 0.3531915 0.3276596 0.1659574
##  [8] 0.5957447 0.5276596 0.3744681 0.3148936 0.2553191 0.2936170 0.2042553
## [15] 0.0000000 0.0000000 0.1829787 0.9361702 0.8510638 1.0000000 0.4723404
## [22] 0.2170213 0.2042553 0.1234043 0.3744681 0.7191489 0.6638298 0.8510638
## [29] 0.2297872 0.3957447 0.1957447 0.4680851</code></pre>
<ul>
<li>Plot the histogram of <code>a</code> using <code>qplot()</code>.</li>
</ul>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1"><span class="kw">qplot</span>(a)</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-155-1.png" width="672" /></p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1"><span class="co"># To set aesthetics, wrap in I()</span></a>
<a class="sourceLine" id="cb262-2" data-line-number="2"><span class="kw">qplot</span>(a, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;red&quot;</span>), <span class="dt">fill =</span> <span class="kw">I</span>(<span class="st">&quot;blue&quot;</span>))</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-156-1.png" width="672" /></p>
<ul>
<li>How many elements in <code>a</code> are larger than 20? (use <code>length()</code>)</li>
</ul>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1"><span class="co"># creates a logical vector in which TRUE indicates the element that is larger than 20</span></a>
<a class="sourceLine" id="cb264-2" data-line-number="2">a<span class="op">&gt;</span><span class="dv">20</span></a></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE
## [12] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE
## [23] FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1"><span class="co"># This is a logical indexing where the logical vector </span></a>
<a class="sourceLine" id="cb266-2" data-line-number="2"><span class="co"># within the subsetting operator (i.e., []) will create a vector with elements larger than 20. </span></a>
<a class="sourceLine" id="cb266-3" data-line-number="3">a[a<span class="op">&gt;</span><span class="dv">20</span>]</a></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 24.4 22.8 32.4 30.4 33.9 21.5 27.3 26.0 30.4 21.4</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="kw">length</span>(a[a<span class="op">&gt;</span><span class="dv">20</span>])</a></code></pre></div>
<pre><code>## [1] 14</code></pre>
<ul>
<li>How many elements in <code>a</code> are larger than 20? (use <code>sum()</code>)</li>
</ul>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="co"># same result</span></a>
<a class="sourceLine" id="cb270-2" data-line-number="2"><span class="co"># this happens because of &quot;vectorization&quot; and &quot;type conversion&quot;</span></a>
<a class="sourceLine" id="cb270-3" data-line-number="3"><span class="kw">sum</span>(a<span class="op">&gt;</span><span class="dv">20</span>)</a></code></pre></div>
<pre><code>## [1] 14</code></pre>
<p><code>txhousing</code> is a tibble in <code>ggplot2</code> containing information about the housing market in Texas provided by the TAMU real estate center. In the dataset, <code>median</code> represents median sale price. <code>txhousing$median</code> allows us to access the <code>median</code> variable in the <code>txhousing</code> tibble (or dataframe).</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1">b &lt;-<span class="st"> </span>txhousing<span class="op">$</span>median</a></code></pre></div>
<ul>
<li><p>Calculate the length of the vector <code>b</code>.</p></li>
<li><p>how many missing values (or NAs) are in <code>b</code>?</p></li>
<li><p>Calculate the mean of <code>b</code> using <code>sum()</code> and <code>length()</code> functions.</p></li>
<li><p>Calculate the mean of <code>b</code> using <code>mean()</code> function.</p></li>
<li><p>Are the two means same? If not, Why? How do we get the same result?</p></li>
<li><p>Calculate the variance of <code>b</code> using <code>sd()</code> function.</p></li>
<li><p>Calculate the variance of <code>b</code> using <code>var()</code> function.</p></li>
<li><p>Plot the histogram of <code>b</code> using <code>qplot()</code>.</p></li>
<li><p>Create a new vector <code>c</code> by removing all missing from <code>b</code>.</p></li>
<li><p>(Using <code>c</code>) What percentage of houses has median sale price larger than $200000?</p></li>
</ul>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">5.13</span> Factors</h2>
<div id="what-is-a-factor" class="section level3">
<h3><span class="header-section-number">5.13.1</span> What is a factor?</h3>
<ul>
<li>Factors are used to represent <strong>categorical data</strong> (e.g., gender, states).</li>
<li>Factors are stored as <strong>a vector of integer values</strong> associated with <strong>a set of character values</strong> (<code>levels</code>) to use when the factor is displayed.</li>
<li>Factor have two attributes
<ul>
<li>the <strong><code>class()</code></strong>, â€œfactorâ€, which make factors behave differently from regular integer vectors, and</li>
<li>the <strong><code>levels()</code></strong>, which defines the set of allowed values.</li>
</ul></li>
</ul>
</div>
<div id="creating-a-factor" class="section level3">
<h3><span class="header-section-number">5.13.2</span> Creating a factor</h3>
<ul>
<li>The function <code>factor()</code> is used to encode a numeric or character vector as a factor.</li>
</ul>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb273-1" data-line-number="1"><span class="co"># levels are the set of allowed values</span></a>
<a class="sourceLine" id="cb273-2" data-line-number="2">f1 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb273-3" data-line-number="3">f1</a></code></pre></div>
<pre><code>## [1] 2 1 1 3 2 1 1
## Levels: 1 2 3</code></pre>
<ul>
<li>Factors are built on top of <strong>integers</strong>, and have a <strong>levels</strong> attribute</li>
</ul>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb275-1" data-line-number="1"><span class="kw">typeof</span>(f1)</a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb277-1" data-line-number="1"><span class="kw">attributes</span>(f1)</a></code></pre></div>
<pre><code>## $levels
## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<ul>
<li><code>levels()</code> displays the levels of a factor</li>
</ul>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb279-1" data-line-number="1"><span class="kw">levels</span>(f1)</a></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<ul>
<li>The factorâ€™s level is <strong>a character vector</strong>.</li>
</ul>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb281-1" data-line-number="1"><span class="co"># test for objects of type &quot;character&quot;</span></a>
<a class="sourceLine" id="cb281-2" data-line-number="2"><span class="kw">is.character</span>(<span class="kw">levels</span>(f1))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li>More test functions in R
<ul>
<li><a href="https://r4ds.had.co.nz/vectors.html" class="uri">https://r4ds.had.co.nz/vectors.html</a></li>
</ul></li>
<li>We can change levels</li>
</ul>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb283-1" data-line-number="1"><span class="kw">levels</span>(f1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>)</a>
<a class="sourceLine" id="cb283-2" data-line-number="2">f1</a></code></pre></div>
<pre><code>## [1] two   one   one   three two   one   one  
## Levels: one two three</code></pre>
<ul>
<li>By default, the level of a factor will be displayed in alphabetical order.</li>
</ul>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb285-1" data-line-number="1">f2 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>))</a>
<a class="sourceLine" id="cb285-2" data-line-number="2">f2</a></code></pre></div>
<pre><code>## [1] Dec Apr Jan Mar
## Levels: Apr Dec Jan Mar</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb287-1" data-line-number="1"><span class="kw">sort</span>(f2)</a></code></pre></div>
<pre><code>## [1] Apr Dec Jan Mar
## Levels: Apr Dec Jan Mar</code></pre>
<ul>
<li><code>levels</code> option can be used to change the order in which the levels will be displayed from their default sorted order</li>
</ul>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb289-1" data-line-number="1">month_levels &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb289-2" data-line-number="2">  <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>, </a>
<a class="sourceLine" id="cb289-3" data-line-number="3">  <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span></a>
<a class="sourceLine" id="cb289-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb289-5" data-line-number="5">f3 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>), <span class="dt">levels =</span> month_levels)</a>
<a class="sourceLine" id="cb289-6" data-line-number="6">f3</a></code></pre></div>
<pre><code>## [1] Dec Apr Jan Mar
## Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb291-1" data-line-number="1"><span class="co"># In many cases, this is the result that we expect. </span></a>
<a class="sourceLine" id="cb291-2" data-line-number="2"><span class="kw">sort</span>(f3)</a></code></pre></div>
<pre><code>## [1] Jan Mar Apr Dec
## Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</code></pre>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb293-1" data-line-number="1"><span class="kw">table</span>(f3)</a></code></pre></div>
<pre><code>## f3
## Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec 
##   1   0   1   1   0   0   0   0   0   0   0   1</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb295-1" data-line-number="1"><span class="kw">table</span>(f2)</a></code></pre></div>
<pre><code>## f2
## Apr Dec Jan Mar 
##   1   1   1   1</code></pre>
</div>
<div id="unordered-vs-ordered-factor" class="section level3">
<h3><span class="header-section-number">5.13.3</span> unordered vs ordered factor</h3>
<ul>
<li>Although the levels of a factor created by the <code>factor()</code> function has an order for displaying, the factor created by the <code>factor()</code> is called <strong>an unordered factor</strong> in the sense that the factor does not have any meaningful ordering structure. Comparison operators will not work with the unordered factor. Sometimes, we want to specify the meaningful order of a factor by creating <strong>an ordered factor</strong>.</li>
</ul>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb297-1" data-line-number="1"><span class="co"># the default level is in alphabetical order </span></a>
<a class="sourceLine" id="cb297-2" data-line-number="2">f4 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))</a>
<a class="sourceLine" id="cb297-3" data-line-number="3">f4</a></code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: high low medium</code></pre>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb299-1" data-line-number="1"><span class="kw">sort</span>(f4)</a></code></pre></div>
<pre><code>## [1] high   high   low    medium medium
## Levels: high low medium</code></pre>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb301-1" data-line-number="1">f5 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))</a>
<a class="sourceLine" id="cb301-2" data-line-number="2">f5</a></code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low medium high</code></pre>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1"><span class="kw">sort</span>(f5)</a></code></pre></div>
<pre><code>## [1] low    medium medium high   high  
## Levels: low medium high</code></pre>
<ul>
<li><p><code>min(f5)</code> and <code>f[1] &lt; f[3]</code> will produce error.</p></li>
<li><p>With <code>ordered = TRUE</code> option, the levels should be regarded as ordered.</p></li>
</ul>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1">f6 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">ordered =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb305-2" data-line-number="2">f6</a></code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low &lt; medium &lt; high</code></pre>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb307-1" data-line-number="1"><span class="kw">min</span>(f6)</a></code></pre></div>
<pre><code>## [1] low
## Levels: low &lt; medium &lt; high</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb309-1" data-line-number="1">f6[<span class="dv">1</span>] <span class="op">&gt;</span><span class="st"> </span>f6[<span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li><code>ordered()</code> function also creates <strong>an ordered factor</strong>.</li>
</ul>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb311-1" data-line-number="1">f7 &lt;-<span class="st"> </span><span class="kw">ordered</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))</a>
<a class="sourceLine" id="cb311-2" data-line-number="2">f7</a></code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low &lt; medium &lt; high</code></pre>
</div>
<div id="why-factors" class="section level3">
<h3><span class="header-section-number">5.13.4</span> Why factors?</h3>
<ul>
<li>Factors are an <strong>efficient way</strong> to store character values, because each unique character value is stored only once, and the factor itself is stored as an integer vector.</li>
<li>Factors prevent <strong>typo</strong> because they only allow us to input the pre-defined values.</li>
<li>Factors allow us to encode <strong>ordering structure</strong>.</li>
</ul>
</div>
<div id="some-more-comments" class="section level3">
<h3><span class="header-section-number">5.13.5</span> Some more comments</h3>
<ul>
<li>Be careful. Many base R functions <strong>automatically convert</strong> character vectors into factors. To suppress this default behavior, use <code>stringsAsFactors = FALSE</code> option within a function. You can explicitly convert data type with <code>as.character()</code>, <code>as.double()</code>, <code>as.integer()</code>, and <code>as.logical()</code>.</li>
</ul>
</div>
<div id="exercise-1" class="section level3">
<h3><span class="header-section-number">5.13.6</span> Exercise</h3>
<ul>
<li>You have the following responses of a five-point likert scale survey item: <code>x &lt;- c(&quot;Agree&quot;, &quot;Disagree&quot;, &quot;Neutral&quot;, &quot;Agree&quot; ,&quot;Agree&quot;, &quot;Strongly disagree&quot;, &quot;Neutral&quot;)</code>. Create an ordered factor for the <strong>five</strong> point likert scale responses (Notice that you donâ€™t have â€œStrongly agreeâ€ in <code>x</code>, but include â€œStrongly agreeâ€ in your factor level).</li>
</ul>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb313-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Agree&quot;</span>, <span class="st">&quot;Disagree&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Agree&quot;</span> ,<span class="st">&quot;Agree&quot;</span>, <span class="st">&quot;Strongly disagree&quot;</span>, <span class="st">&quot;Neutral&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb314-1" data-line-number="1"><span class="co"># you may want to this</span></a>
<a class="sourceLine" id="cb314-2" data-line-number="2"><span class="kw">factor</span>(x, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Strongly disagree&quot;</span>, <span class="st">&quot;Disagree&quot;</span>, <span class="st">&quot;Neutral&quot;</span>,  <span class="st">&quot;Agree&quot;</span>, <span class="st">&quot;Strongly agree&quot;</span>))</a></code></pre></div>
<pre><code>## [1] Agree             Disagree          Neutral           Agree            
## [5] Agree             Strongly disagree Neutral          
## Levels: Strongly disagree Disagree Neutral Agree Strongly agree</code></pre>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb316-1" data-line-number="1"><span class="co"># not this</span></a>
<a class="sourceLine" id="cb316-2" data-line-number="2"><span class="kw">factor</span>(x)</a></code></pre></div>
<pre><code>## [1] Agree             Disagree          Neutral           Agree            
## [5] Agree             Strongly disagree Neutral          
## Levels: Agree Disagree Neutral Strongly disagree</code></pre>
<ul>
<li>Using the following character vector <code>x = c(&quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;)</code>, create a factor with levels reversed from its default levels order.</li>
</ul>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb318-1" data-line-number="1">x =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb319-1" data-line-number="1"><span class="co"># by default, female become first</span></a>
<a class="sourceLine" id="cb319-2" data-line-number="2"><span class="kw">factor</span>(x)</a></code></pre></div>
<pre><code>## [1] male   male   female male   female
## Levels: female male</code></pre>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb321-1" data-line-number="1"><span class="co"># What I&#39;ve asked you is to change the default alphabetical order using levels options. </span></a>
<a class="sourceLine" id="cb321-2" data-line-number="2"><span class="kw">factor</span>(x, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>))</a></code></pre></div>
<pre><code>## [1] male   male   female male   female
## Levels: male female</code></pre>
<ul>
<li>Run the following code and explain what the code is doing.</li>
</ul>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb323-1" data-line-number="1"><span class="co"># I just wanted to introduce &#39;cut()` function</span></a>
<a class="sourceLine" id="cb323-2" data-line-number="2"><span class="kw">set.seed</span>(<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb323-3" data-line-number="3">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb323-4" data-line-number="4"><span class="kw">cut</span>(x, <span class="dt">breaks =</span> <span class="kw">quantile</span>(x))</a></code></pre></div>
<pre><code>##   [1] (0.72,2.72]    (-1.79,-0.559] (-1.79,-0.559] (-0.559,0.106]
##   [5] (-1.79,-0.559] (-1.79,-0.559] (0.72,2.72]    (-0.559,0.106]
##   [9] (0.106,0.72]   (0.72,2.72]    (0.106,0.72]   (0.72,2.72]   
##  [13] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (0.106,0.72]  
##  [17] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]   
##  [21] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [25] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (0.106,0.72]  
##  [29] (-1.79,-0.559] (-0.559,0.106] (-1.79,-0.559] (0.106,0.72]  
##  [33] (0.106,0.72]   (-0.559,0.106] (-0.559,0.106] (-1.79,-0.559]
##  [37] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (0.106,0.72]  
##  [41] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (-1.79,-0.559]
##  [45] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]    (0.106,0.72]  
##  [49] (-0.559,0.106] (0.72,2.72]    (-0.559,0.106] (-0.559,0.106]
##  [53] (0.106,0.72]   (0.72,2.72]    (0.72,2.72]    (0.106,0.72]  
##  [57] (-1.79,-0.559] (0.106,0.72]   (0.106,0.72]   (-1.79,-0.559]
##  [61] (-0.559,0.106] (0.106,0.72]   (0.106,0.72]   (0.106,0.72]  
##  [65] (0.106,0.72]   (0.72,2.72]    (0.72,2.72]    (0.72,2.72]   
##  [69] (0.72,2.72]    (0.106,0.72]   (0.106,0.72]   (-1.79,-0.559]
##  [73] (-1.79,-0.559] (-1.79,-0.559] (-1.79,-0.559] (-1.79,-0.559]
##  [77] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]   
##  [81] (0.106,0.72]   (-0.559,0.106] (-0.559,0.106] (-0.559,0.106]
##  [85] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (-0.559,0.106]
##  [89] &lt;NA&gt;           (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [93] (0.106,0.72]   (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [97] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106]
## Levels: (-1.79,-0.559] (-0.559,0.106] (0.106,0.72] (0.72,2.72]</code></pre>
</div>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">5.14</span> Lists</h2>
<div id="what-is-a-list" class="section level3">
<h3><span class="header-section-number">5.14.1</span> What is a list?</h3>
<ul>
<li>A list is a <strong>one-dimensional heterogeneou</strong>s data structure.
_ Because a list is a one-dimensional data structure, we can index the element of a list using a single number.
<ul>
<li>Unlike a vector, a list is a heterogeneous data structure, meaning that the element of a list can be any object in R.</li>
</ul></li>
</ul>
</div>
<div id="creating-a-list" class="section level3">
<h3><span class="header-section-number">5.14.2</span> Creating a list</h3>
<ul>
<li><code>list()</code> is used to create a list.</li>
</ul>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb325-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="st">&quot;a&quot;</span>, <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="fl">1.2</span>, <span class="fl">3.3</span>, <span class="fl">4.6</span>, <span class="fl">6.6</span>))</a>
<a class="sourceLine" id="cb325-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3 4 5 6
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1]  TRUE  TRUE FALSE
## 
## [[4]]
## [1] 1.2 3.3 4.6 6.6</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb327-1" data-line-number="1"><span class="co"># str() display the internal structure of an R object</span></a>
<a class="sourceLine" id="cb327-2" data-line-number="2"><span class="kw">str</span>(x)</a></code></pre></div>
<pre><code>## List of 4
##  $ : int [1:6] 1 2 3 4 5 6
##  $ : chr &quot;a&quot;
##  $ : logi [1:3] TRUE TRUE FALSE
##  $ : num [1:4] 1.2 3.3 4.6 6.6</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb329-1" data-line-number="1"><span class="kw">typeof</span>(x)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
</div>
<div id="why-lists" class="section level3">
<h3><span class="header-section-number">5.14.3</span> Why lists?</h3>
<ul>
<li>Because of its flexible structure, many R functions store their outputs as a list, and return the list.</li>
</ul>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb331-1" data-line-number="1"><span class="co"># In R, lm() is a function that fits a regression model to data.</span></a>
<a class="sourceLine" id="cb331-2" data-line-number="2"><span class="co"># In the following R expression, &#39;mpg&#39; is a dependent variable</span></a>
<a class="sourceLine" id="cb331-3" data-line-number="3"><span class="co"># and `disp` and `cyl` are independent variable. </span></a>
<a class="sourceLine" id="cb331-4" data-line-number="4">fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp <span class="op">+</span><span class="st"> </span>cyl, <span class="dt">data =</span> mtcars)</a>
<a class="sourceLine" id="cb331-5" data-line-number="5">fit</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp + cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)         disp          cyl  
##    34.66099     -0.02058     -1.58728</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb333-1" data-line-number="1"><span class="kw">typeof</span>(fit)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb335-1" data-line-number="1"><span class="kw">str</span>(fit)</a></code></pre></div>
<pre><code>## List of 12
##  $ coefficients : Named num [1:3] 34.661 -0.0206 -1.5873
##   ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot;
##  $ residuals    : Named num [1:32] -0.844 -0.844 -3.289 1.573 4.147 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ effects      : Named num [1:32] -113.65 -28.44 -6.81 2.04 4.06 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot; &quot;&quot; ...
##  $ rank         : int 3
##  $ fitted.values: Named num [1:32] 21.8 21.8 26.1 19.8 14.6 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ assign       : int [1:3] 0 1 2
##  $ qr           :List of 5
##   ..$ qr   : num [1:32, 1:3] -5.657 0.177 0.177 0.177 0.177 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##   .. .. ..$ : chr [1:3] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:3] 0 1 2
##   ..$ qraux: num [1:3] 1.18 1.09 1.19
##   ..$ pivot: int [1:3] 1 2 3
##   ..$ tol  : num 1e-07
##   ..$ rank : int 3
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 29
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = mpg ~ disp + cyl, data = mtcars)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language mpg ~ disp + cyl
##   .. ..- attr(*, &quot;variables&quot;)= language list(mpg, disp, cyl)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:3, 1:2] 0 1 0 0 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. .. .. ..$ : chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;order&quot;)= int [1:2] 1 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(mpg, disp, cyl)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:3] &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##  $ model        :&#39;data.frame&#39;:   32 obs. of  3 variables:
##   ..$ mpg : num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##   ..$ disp: num [1:32] 160 160 108 258 360 ...
##   ..$ cyl : num [1:32] 6 6 4 6 8 6 8 4 4 6 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language mpg ~ disp + cyl
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(mpg, disp, cyl)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:3, 1:2] 0 1 0 0 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. .. .. .. ..$ : chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int [1:2] 1 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(mpg, disp, cyl)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:3] &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;</code></pre>
</div>
<div id="subsetting-a-list" class="section level3">
<h3><span class="header-section-number">5.14.4</span> Subsetting a List</h3>
<ul>
<li>Subsetting a list works in the same way as subsetting an atomic vector. Using <code>[ ]</code> will always return a list; <code>[[ ]]</code> and <code>$</code> let you pull out the components of the list.</li>
</ul>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb337-1" data-line-number="1">my.lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">stud.id=</span><span class="dv">34453</span>,      <span class="co"># creat a list</span></a>
<a class="sourceLine" id="cb337-2" data-line-number="2">               <span class="dt">stud.name=</span><span class="st">&quot;John&quot;</span>, </a>
<a class="sourceLine" id="cb337-3" data-line-number="3">               <span class="dt">stud.marks=</span><span class="kw">c</span>(<span class="fl">14.3</span>,<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">19</span>))</a></code></pre></div>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb338-1" data-line-number="1">my.lst</a></code></pre></div>
<pre><code>## $stud.id
## [1] 34453
## 
## $stud.name
## [1] &quot;John&quot;
## 
## $stud.marks
## [1] 14.3 12.0 15.0 19.0</code></pre>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb340-1" data-line-number="1"><span class="co"># [ ] extracts a sub-list </span></a>
<a class="sourceLine" id="cb340-2" data-line-number="2">my.lst[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## $stud.id
## [1] 34453</code></pre>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" data-line-number="1"><span class="kw">typeof</span>(my.lst[<span class="dv">1</span>])</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb344-1" data-line-number="1"><span class="co"># [[ ]] extracts the value of an individual element </span></a>
<a class="sourceLine" id="cb344-2" data-line-number="2">my.lst[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>## [1] 34453</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb346-1" data-line-number="1"><span class="kw">typeof</span>(my.lst[[<span class="dv">1</span>]])</a></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" data-line-number="1"><span class="co"># my.lst[[3]] will index the third element of a list, which is a numeric vector</span></a>
<a class="sourceLine" id="cb348-2" data-line-number="2"><span class="co"># my.lst[[3]][2] will index the second element of the numeric vector</span></a>
<a class="sourceLine" id="cb348-3" data-line-number="3">my.lst[[<span class="dv">3</span>]][<span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb350-1" data-line-number="1"><span class="co"># In the case of lists with named elements</span></a>
<a class="sourceLine" id="cb350-2" data-line-number="2"><span class="co"># $ extracts the value of an individual element </span></a>
<a class="sourceLine" id="cb350-3" data-line-number="3">my.lst<span class="op">$</span>stud.id</a></code></pre></div>
<pre><code>## [1] 34453</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb352-1" data-line-number="1"><span class="kw">typeof</span>(my.lst<span class="op">$</span>stud.id)</a></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="exercise-2" class="section level3">
<h3><span class="header-section-number">5.14.5</span> Exercise</h3>
<p><code>fit</code> is a list that contains the outputs of the <code>lm()</code> function for linear regression. Explore the structure of the <code>fit</code> object using <code>str()</code>.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb354-1" data-line-number="1">fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp <span class="op">+</span><span class="st"> </span>cyl, <span class="dt">data =</span> mtcars)</a>
<a class="sourceLine" id="cb354-2" data-line-number="2">fit</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp + cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)         disp          cyl  
##    34.66099     -0.02058     -1.58728</code></pre>
<ul>
<li>Extract the coefficient of â€œInterceptâ€ with indexing using a positive integer.</li>
</ul>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb356-1" data-line-number="1"><span class="co"># fit$coefficient is a vector</span></a>
<a class="sourceLine" id="cb356-2" data-line-number="2">fit<span class="op">$</span>coefficients</a></code></pre></div>
<pre><code>## (Intercept)        disp         cyl 
## 34.66099474 -0.02058363 -1.58727681</code></pre>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb358-1" data-line-number="1"><span class="co"># So, we can subset the first element using the following expression</span></a>
<a class="sourceLine" id="cb358-2" data-line-number="2">fit<span class="op">$</span>coefficients[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## (Intercept) 
##    34.66099</code></pre>
<ul>
<li>Extract the coefficient of â€œInterceptâ€ with indexing using a name.</li>
</ul>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb360-1" data-line-number="1"><span class="co"># We can also use the name of element for indexing. </span></a>
<a class="sourceLine" id="cb360-2" data-line-number="2">fit<span class="op">$</span>coefficients[<span class="st">&quot;(Intercept)&quot;</span>]</a></code></pre></div>
<pre><code>## (Intercept) 
##    34.66099</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">5.14.6</span> Data frames</h3>
<ul>
<li>A data frame is a <strong>list</strong> of <strong>equal-length vectors</strong>.</li>
</ul>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb362-1" data-line-number="1"><span class="kw">head</span>(iris)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb364-1" data-line-number="1"><span class="kw">typeof</span>(iris)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb366-1" data-line-number="1"><span class="kw">str</span>(iris)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div id="the-apply-family-of-functions" class="section level3">
<h3><span class="header-section-number">5.14.7</span> The apply family of functions</h3>
<ul>
<li>The <code>apply()</code> family of functions refers to <code>apply()</code>, <code>lapply()</code>, <code>sapply()</code>, <code>vapply()</code>, <code>mapply()</code>, <code>rapply()</code>, and <code>tapply()</code>.</li>
<li>Why do we need them?
<ul>
<li>They will make your code much <strong>shorter</strong> by replacing your own copy and paste</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb368-1" data-line-number="1"><span class="co"># A motivating example: check the number of missing values in each column of the following data frame &#39;m&#39;</span></a>
<a class="sourceLine" id="cb368-2" data-line-number="2">m &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="ot">NA</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>), <span class="dt">ncol =</span> <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb368-3" data-line-number="3">m</a></code></pre></div>
<pre><code>##   X1 X2 X3 X4
## 1  1  4  7 NA
## 2  2 NA NA NA
## 3  3  6 NA NA</code></pre>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb370-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(m<span class="op">$</span>X1))</a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb372-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(m<span class="op">$</span>X2))</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb374-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(m<span class="op">$</span>X3))</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(m<span class="op">$</span>X4))</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li><code>lapply(X, FUN)</code>
<ul>
<li>X = a list object in R</li>
<li>FUN = a function in R</li>
</ul></li>
<li><code>lapply()</code>
<ul>
<li>takes a function (FUN)</li>
<li>applies it to each element of a list (X)</li>
<li>and returns the results in the form of a list</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb378-1" data-line-number="1"><span class="co"># This one line of code will still work even when the number of columns are 1000 or more. </span></a>
<a class="sourceLine" id="cb378-2" data-line-number="2"><span class="kw">lapply</span>(m, <span class="cf">function</span>(x) <span class="kw">sum</span>(<span class="kw">is.na</span>(x)))</a></code></pre></div>
<pre><code>## $X1
## [1] 0
## 
## $X2
## [1] 1
## 
## $X3
## [1] 2
## 
## $X4
## [1] 3</code></pre>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb380-1" data-line-number="1"><span class="co"># lapply() returns a list, whereas sapply() returns a vector, matrix, or array. </span></a>
<a class="sourceLine" id="cb380-2" data-line-number="2"><span class="kw">sapply</span>(m, <span class="cf">function</span>(x) <span class="kw">sum</span>(<span class="kw">is.na</span>(x)))</a></code></pre></div>
<pre><code>## X1 X2 X3 X4 
##  0  1  2  3</code></pre>
</div>
<div id="exercise-3" class="section level3">
<h3><span class="header-section-number">5.14.8</span> Exercise</h3>
<ul>
<li>How many columns in the <code>bfi</code> dataset have missing values more than 20?</li>
</ul>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb382-1" data-line-number="1"><span class="kw">library</span>(psych)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;psych&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb385-1" data-line-number="1"><span class="kw">head</span>(bfi)</a></code></pre></div>
<pre><code>##       A1 A2 A3 A4 A5 C1 C2 C3 C4 C5 E1 E2 E3 E4 E5 N1 N2 N3 N4 N5 O1 O2 O3
## 61617  2  4  3  4  4  2  3  3  4  4  3  3  3  4  4  3  4  2  2  3  3  6  3
## 61618  2  4  5  2  5  5  4  4  3  4  1  1  6  4  3  3  3  3  5  5  4  2  4
## 61620  5  4  5  4  4  4  5  4  2  5  2  4  4  4  5  4  5  4  2  3  4  2  5
## 61621  4  4  6  5  5  4  4  3  5  5  5  3  4  4  4  2  5  2  4  1  3  3  4
## 61622  2  3  3  4  5  4  4  5  3  2  2  2  5  4  5  2  3  4  4  3  3  3  4
## 61623  6  6  5  6  5  6  6  6  1  3  2  1  6  5  6  3  5  2  2  3  4  3  5
##       O4 O5 gender education age
## 61617  4  3      1        NA  16
## 61618  3  3      2        NA  18
## 61620  5  2      2        NA  17
## 61621  3  5      2        NA  17
## 61622  3  3      1        NA  17
## 61623  6  1      2         3  21</code></pre>
</div>
<div id="more-resources-1" class="section level3">
<h3><span class="header-section-number">5.14.9</span> More resources</h3>
<ul>
<li>For more details about a vector, factor, and list, see Ch20 in R for Data Science (<a href="https://r4ds.had.co.nz/vectors.html" class="uri">https://r4ds.had.co.nz/vectors.html</a>).</li>
<li>For more details about the apply family of functions, see a nice introduction in Data Camp (<a href="https://www.datacamp.com/community/tutorials/r-tutorial-apply-family" class="uri">https://www.datacamp.com/community/tutorials/r-tutorial-apply-family</a>).</li>
</ul>
</div>
</div>
<div id="matrices-and-arrays" class="section level2">
<h2><span class="header-section-number">5.15</span> Matrices and Arrays</h2>
<ul>
<li>matrices and arrays are <strong>implemented as vectors</strong> with special attributes</li>
<li>Adding a <strong><code>dim()</code> attribute</strong> to an atomic vector allows it to behave like a multi-dimensional array.</li>
</ul>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb387-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span></a></code></pre></div>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb388-1" data-line-number="1">a</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb390-1" data-line-number="1"><span class="co"># Get or set specific attributes of an object.</span></a>
<a class="sourceLine" id="cb390-2" data-line-number="2"><span class="kw">attr</span>(a, <span class="st">&quot;dim&quot;</span>) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>)</a></code></pre></div>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb391-1" data-line-number="1">a</a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb393-1" data-line-number="1"><span class="co"># by default, a matrix is filled by column</span></a>
<a class="sourceLine" id="cb393-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>, <span class="dt">nrow=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb393-3" data-line-number="3">a</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb395-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb395-2" data-line-number="2">a</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb397-1" data-line-number="1"><span class="co"># a matrix can be filled by row using `byrow = TRUE`</span></a>
<a class="sourceLine" id="cb397-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>, <span class="dt">nrow=</span><span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb397-3" data-line-number="3">a</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb399-1" data-line-number="1"><span class="kw">attributes</span>(a)</a></code></pre></div>
<pre><code>## $dim
## [1] 2 3</code></pre>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb401-1" data-line-number="1"><span class="kw">dim</span>(a)</a></code></pre></div>
<pre><code>## [1] 2 3</code></pre>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb403-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb403-2" data-line-number="2">b</a></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]    7    9   11
## [2,]    8   10   12</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb405-1" data-line-number="1"><span class="kw">dim</span>(b)</a></code></pre></div>
<pre><code>## [1] 2 3 2</code></pre>
<ul>
<li><code>length()</code> generalises to <code>nrow()</code> and <code>ncol()</code> for matrices, and <code>dim()</code> for arrays.</li>
<li><code>names()</code> generalises to <code>rownames()</code> and <code>colnames()</code> for matrices, and <code>dimnames()</code>, a list of character vectors, for arrays.</li>
</ul>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb407-1" data-line-number="1">results &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">43</span>, <span class="dv">56</span>, <span class="dv">21</span>, <span class="dv">30</span>), <span class="dv">2</span>, <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb407-2" data-line-number="2"><span class="kw">colnames</span>(results) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1qrt&quot;</span>, <span class="st">&quot;2qrt&quot;</span>, <span class="st">&quot;3qrt&quot;</span>, <span class="st">&quot;4qrt&quot;</span>)</a>
<a class="sourceLine" id="cb407-3" data-line-number="3"><span class="kw">rownames</span>(results) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;store1&quot;</span>, <span class="st">&quot;store2&quot;</span>)</a>
<a class="sourceLine" id="cb407-4" data-line-number="4">results</a></code></pre></div>
<pre><code>##        1qrt 2qrt 3qrt 4qrt
## store1   10   30   40   50
## store2   43   56   21   30</code></pre>
</div>
<div id="data-frames-1" class="section level2">
<h2><span class="header-section-number">5.16</span> Data Frames</h2>
<ul>
<li>A data frame is a <strong>list</strong> of <strong>equal-length vectors</strong>.</li>
<li>A data frame is the <strong>most common way</strong> of storing data in R.</li>
</ul>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb409-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y=</span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb409-2" data-line-number="2">df</a></code></pre></div>
<pre><code>##   x y
## 1 1 a
## 2 2 b
## 3 3 c</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb411-1" data-line-number="1"><span class="co"># display the internal structure of an R object</span></a>
<a class="sourceLine" id="cb411-2" data-line-number="2"><span class="kw">str</span>(df) </a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x: int  1 2 3
##  $ y: Factor w/ 3 levels &quot;a&quot;,&quot;b&quot;,&quot;c&quot;: 1 2 3</code></pre>
<ul>
<li><code>data.frame()</code> converts strings into factors by default.
<ul>
<li>This default setting can cause serious problems in some cases.</li>
<li><code>stringAsFactors = FALSE</code> suppresses this default setting.</li>
<li>Using <code>str()</code> to check data types is always a good practice.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb413-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y=</span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb414-1" data-line-number="1"><span class="kw">str</span>(df) <span class="co"># display the internal structure of an R object</span></a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x: int  1 2 3
##  $ y: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
</div>
<div id="operators" class="section level2">
<h2><span class="header-section-number">5.17</span> Operators</h2>
<ul>
<li>Arithmetic Operators</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>addition</td>
</tr>
<tr class="even">
<td>-</td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td>*</td>
<td>multiplication</td>
</tr>
<tr class="even">
<td>/</td>
<td>division</td>
</tr>
<tr class="odd">
<td>^ or **</td>
<td>exponentiation</td>
</tr>
</tbody>
</table>
<ul>
<li>Logical Operators</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than equal to</td>
</tr>
<tr class="odd">
<td>==</td>
<td>exactly equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td>!x</td>
<td>Not x</td>
</tr>
<tr class="even">
<td>x|y</td>
<td>x OR y</td>
</tr>
<tr class="odd">
<td>x&amp;Y</td>
<td>x AND y</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb416-1" data-line-number="1"><span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb418-1" data-line-number="1"><span class="st">&quot;a&quot;</span> <span class="op">!=</span><span class="st"> &quot;b&quot;</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb420-1" data-line-number="1">(<span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) <span class="op">|</span><span class="st"> </span>(<span class="st">&quot;a&quot;</span> <span class="op">!=</span><span class="st"> &quot;b&quot;</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb422-1" data-line-number="1">(<span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) <span class="op">&amp;</span><span class="st"> </span>(<span class="st">&quot;a&quot;</span> <span class="op">!=</span><span class="st"> &quot;b&quot;</span>)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="subsetting-a-matrix-and-array" class="section level2">
<h2><span class="header-section-number">5.18</span> Subsetting a Matrix and Array</h2>
<ul>
<li>You can supply 1d index for each dimension.</li>
</ul>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb424-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb424-2" data-line-number="2"><span class="kw">colnames</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb424-3" data-line-number="3">a</a></code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8
## [3,] 3 6 9</code></pre>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb426-1" data-line-number="1">a[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>), <span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>)]</a></code></pre></div>
<pre><code>##      B A
## [1,] 4 1
## [2,] 6 3</code></pre>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb428-1" data-line-number="1">a[<span class="dv">1</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]</a></code></pre></div>
<pre><code>## B C 
## 4 7</code></pre>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb430-1" data-line-number="1"><span class="co"># If you omit any dimension, you obtain full columns or rows</span></a>
<a class="sourceLine" id="cb430-2" data-line-number="2">a[<span class="dv">2</span>,]</a></code></pre></div>
<pre><code>## A B C 
## 2 5 8</code></pre>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb432-1" data-line-number="1">a[,<span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 7 8 9</code></pre>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb434-1" data-line-number="1">a</a></code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8
## [3,] 3 6 9</code></pre>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb436-1" data-line-number="1">a <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>##          A    B    C
## [1,] FALSE TRUE TRUE
## [2,] FALSE TRUE TRUE
## [3,] FALSE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb438-1" data-line-number="1">a[a<span class="op">&gt;</span><span class="dv">3</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb438-2" data-line-number="2">a</a></code></pre></div>
<pre><code>##      A  B  C
## [1,] 1 NA NA
## [2,] 2 NA NA
## [3,] 3 NA NA</code></pre>
</div>
<div id="exercise-4" class="section level2">
<h2><span class="header-section-number">5.19</span> Exercise</h2>
<ul>
<li><p><code>mtcars</code> is a fuel economy dataset. Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, and <code>gear</code> variables with 6 cylinders.</p></li>
<li><p>Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, <code>disp</code>, <code>hp</code>, <code>dart</code>, <code>wt</code>, <code>qsec</code>, and <code>am</code> variables with 4 or 6 cylinders.</p></li>
<li><p>Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, <code>disp</code>, <code>hp</code>, <code>dart</code>, <code>wt</code>, <code>qsec</code>, and <code>am</code> variables with 4 or 6 cylinders, and <code>mpg</code> larger than 20.</p></li>
</ul>
</div>
<div id="combine-matrices-by-columns-or-rows" class="section level2">
<h2><span class="header-section-number">5.20</span> Combine Matrices by Columns or Rows</h2>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" data-line-number="1"><span class="co"># combine by columns</span></a>
<a class="sourceLine" id="cb440-2" data-line-number="2"><span class="kw">cbind</span>(a,a)   </a></code></pre></div>
<pre><code>##      A  B  C A  B  C
## [1,] 1 NA NA 1 NA NA
## [2,] 2 NA NA 2 NA NA
## [3,] 3 NA NA 3 NA NA</code></pre>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" data-line-number="1"><span class="co"># combine by rows</span></a>
<a class="sourceLine" id="cb442-2" data-line-number="2"><span class="kw">rbind</span>(a,a)   </a></code></pre></div>
<pre><code>##      A  B  C
## [1,] 1 NA NA
## [2,] 2 NA NA
## [3,] 3 NA NA
## [4,] 1 NA NA
## [5,] 2 NA NA
## [6,] 3 NA NA</code></pre>
</div>
<div id="names-of-the-columns-and-rows-of-matrices" class="section level2">
<h2><span class="header-section-number">5.21</span> Names of the Columns and Rows of Matrices</h2>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" data-line-number="1"><span class="kw">colnames</span>(a) </a></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" data-line-number="1"><span class="kw">rownames</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;F&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb447-1" data-line-number="1"><span class="kw">rownames</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;D&quot; &quot;E&quot; &quot;F&quot;</code></pre>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">5.22</span> Functions</h2>
<ul>
<li>R functions are a special type of <strong>R object</strong> designed to carry out <strong>some operation</strong>.</li>
<li>R functions, like mathematical functions, are applied to some set of <strong>arguments</strong> and produce a <strong>result</strong>.</li>
<li><strong>output = function_name(argument)</strong></li>
<li>In R, both the arguments that we provide when we call the function and the result of the function execution are <strong>R objects</strong> whose type will depend on the function.</li>
<li>R functions range from simple objects implementing some standard <strong>calculation</strong>, e.g.Â calculating the square root of a number, to more complex functions that can obtain some <strong>model</strong> of a dataset, e.g.Â a neural network.</li>
</ul>
</div>
<div id="an-example-of-functions" class="section level2">
<h2><span class="header-section-number">5.23</span> An Example of Functions</h2>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" data-line-number="1"><span class="co"># call (execute or run) the mean() function</span></a>
<a class="sourceLine" id="cb449-2" data-line-number="2"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))    </a></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb451-1" data-line-number="1"><span class="co"># a will store the object returned by the mean()</span></a>
<a class="sourceLine" id="cb451-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))   </a></code></pre></div>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" data-line-number="1"><span class="co"># mean() will not work with NA</span></a>
<a class="sourceLine" id="cb452-2" data-line-number="2"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>,<span class="dv">4</span>))     </a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" data-line-number="1"><span class="co"># When na.rm = TRUE, NA will be removed before computation</span></a>
<a class="sourceLine" id="cb454-2" data-line-number="2"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>,<span class="dv">4</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)    </a></code></pre></div>
<pre><code>## [1] 2.333333</code></pre>
</div>
<div id="user-defined-functions" class="section level2">
<h2><span class="header-section-number">5.24</span> User-Defined Functions</h2>
<ul>
<li>We can write our own functions easily</li>
<li>function.name &lt;- function(arg1, arg2, arg3){body}</li>
</ul>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" data-line-number="1"><span class="co"># Define se() function that calculate the standard error</span></a>
<a class="sourceLine" id="cb456-2" data-line-number="2">se &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb456-3" data-line-number="3">  v &lt;-<span class="st"> </span><span class="kw">var</span>(x)</a>
<a class="sourceLine" id="cb456-4" data-line-number="4">  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb456-5" data-line-number="5">  <span class="kw">return</span>(<span class="kw">sqrt</span>(v<span class="op">/</span>n))</a>
<a class="sourceLine" id="cb456-6" data-line-number="6">}</a></code></pre></div>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb457-1" data-line-number="1">mySample &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">20</span>, <span class="dt">sd=</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb457-2" data-line-number="2"><span class="kw">se</span>(mySample)</a></code></pre></div>
<pre><code>## [1] 0.3795976</code></pre>
</div>
<div id="exercise-5" class="section level2">
<h2><span class="header-section-number">5.25</span> Exercise</h2>
<p>The follow code will generate two numeric vectors randomly sampled from N(0,1) and N(3,2).</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" data-line-number="1">x1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">0</span>, <span class="dt">sd=</span><span class="dv">1</span>)  <span class="co"># generate 100 random numbers from Normal(0,1)</span></a>
<a class="sourceLine" id="cb459-2" data-line-number="2">x2 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">3</span>, <span class="dt">sd=</span><span class="dv">2</span>)  <span class="co"># generate 100 random numbers from Normal(3,2)</span></a></code></pre></div>
<p>Write your own function that returns (simplified) Cohenâ€™s d = <span class="math inline">\(\frac{mean(x_2)-mean(x_1)}{sd(x_1)}\)</span>. Specifically, your function should get the above two vectors x1 and x2 as function arguments and return d. For fun, letâ€™s use your own name as the name of this function. Check whether your function actually work by running <code>your_name(x1,x2)</code>.</p>
</div>
<div id="some-comments-on-functions" class="section level2">
<h2><span class="header-section-number">5.26</span> Some Comments on Functions</h2>
<ul>
<li>Functions are <strong>a fundamental building block</strong> of R.</li>
<li>We can creat our own functions, but we usually use functions made by others.</li>
<li>Packages are <strong>a collection of functions</strong> made by others.</li>
<li>In many cases, our job is to build a <strong>pipeline</strong> of data flow by connecting many available functions.</li>
<li>To do that, we have to handle the input objects (argument) and output objects (returned objects) of functions, which requires knowledge about <strong>data structure</strong> (e.g., creating, subsetting).</li>
</ul>
</div>
<div id="generating-sequences" class="section level2">
<h2><span class="header-section-number">5.27</span> Generating Sequences</h2>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb460-1" data-line-number="1"><span class="co"># creating a vector containing integers between 1 and 10</span></a>
<a class="sourceLine" id="cb460-2" data-line-number="2"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> </a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" data-line-number="1"><span class="dv">5</span><span class="op">:</span><span class="dv">0</span></a></code></pre></div>
<pre><code>## [1] 5 4 3 2 1 0</code></pre>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" data-line-number="1"><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">1</span>, <span class="dt">to=</span><span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.5</span>)</a></code></pre></div>
<pre><code>## [1] 1.0 1.5 2.0 2.5 3.0</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" data-line-number="1"><span class="co"># rep() replicates each term in formula</span></a>
<a class="sourceLine" id="cb466-2" data-line-number="2"><span class="kw">rep</span>(<span class="dv">5</span>,<span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 5 5 5</code></pre>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 1 2 1 2 1 2</code></pre>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">each=</span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 1 1 1 2 2 2</code></pre>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" data-line-number="1"><span class="co"># gl() generates sequences involving factors</span></a>
<a class="sourceLine" id="cb472-2" data-line-number="2"><span class="co"># gl(k,n), k = the number of levels, </span></a>
<a class="sourceLine" id="cb472-3" data-line-number="3"><span class="co"># n = the number of repetitions.</span></a>
<a class="sourceLine" id="cb472-4" data-line-number="4"><span class="kw">gl</span>(<span class="dv">5</span>,<span class="dv">3</span>)</a></code></pre></div>
<pre><code>##  [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5
## Levels: 1 2 3 4 5</code></pre>
</div>
<div id="control-flow-if-else" class="section level2">
<h2><span class="header-section-number">5.28</span> Control Flow (if-else)</h2>
<ul>
<li>Control flow = the order in which individual statement are executed (or evaluated)</li>
<li>Selection
<ul>
<li><strong>if</strong> (condition) expression: If the condition is <code>TRUE</code>, the expression gets executed.</li>
<li><strong>if</strong> (condition) expression1 <strong>else</strong> expression2: The <code>else</code> part is only executed if the condition if <code>FALSE</code>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb474-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">-5</span></a>
<a class="sourceLine" id="cb474-2" data-line-number="2"><span class="cf">if</span> (x<span class="op">&gt;</span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb474-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;Positive number&quot;</span>)</a>
<a class="sourceLine" id="cb474-4" data-line-number="4">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb474-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;Negative number&quot;</span>)</a>
<a class="sourceLine" id="cb474-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] &quot;Negative number&quot;</code></pre>
</div>
<div id="control-flow-for" class="section level2">
<h2><span class="header-section-number">5.29</span> Control Flow (for)</h2>
<ul>
<li><strong>for (value in sequence) {statements}</strong></li>
<li><code>for loop</code> allows us to <strong>repeat (loop)</strong> through the elements in a vector and run the code inside the block within curly brackets.</li>
</ul>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb476-2" data-line-number="2">  <span class="kw">print</span>(i<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb476-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] 1
## [1] 4
## [1] 9</code></pre>
</div>
<div id="control-flow-for-1" class="section level2">
<h2><span class="header-section-number">5.30</span> Control Flow (for)</h2>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" data-line-number="1"><span class="co"># count the number of even numbers</span></a>
<a class="sourceLine" id="cb478-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">11</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb478-3" data-line-number="3">count &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb478-4" data-line-number="4"><span class="cf">for</span> (val <span class="cf">in</span> x) {</a>
<a class="sourceLine" id="cb478-5" data-line-number="5">  <span class="cf">if</span>(val <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)  count =<span class="st"> </span>count<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb478-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb478-7" data-line-number="7"><span class="kw">print</span>(count)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="base-r-quiz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-BaseR.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["Introduction to R, Rstudio, and ggplot2.pdf", "Introduction to R, Rstudio, and ggplot2.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
