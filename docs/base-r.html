<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Base R | R, Rstudio, and ggplot2</title>
  <meta name="description" content="This is an introduction to R, Rstudio, and ggplot2" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Base R | R, Rstudio, and ggplot2" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an introduction to R, Rstudio, and ggplot2" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Base R | R, Rstudio, and ggplot2" />
  
  <meta name="twitter:description" content="This is an introduction to R, Rstudio, and ggplot2" />
  

<meta name="author" content="Sunbok Lee" />


<meta name="date" content="2019-09-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise-3.html">
<link rel="next" href="base-r-quiz.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> R</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why R?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#cheat-sheets-for-r"><i class="fa fa-check"></i><b>1.4</b> Cheat Sheets for R</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#rmarkdown-files"><i class="fa fa-check"></i><b>1.5</b> Rmarkdown files</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#r-topics-covered-in-this-course"><i class="fa fa-check"></i><b>1.6</b> R topics covered in this course</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>2</b> Introduction to <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#what-is-ggplot2"><i class="fa fa-check"></i><b>2.1</b> What is <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#data"><i class="fa fa-check"></i><b>2.2</b> Data</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#geometric-objects-geoms"><i class="fa fa-check"></i><b>2.3</b> Geometric objects (<strong>geoms</strong>)</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#exercise"><i class="fa fa-check"></i><b>2.4</b> Exercise</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#aesthetic-mappings"><i class="fa fa-check"></i><b>2.5</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#exercise-1"><i class="fa fa-check"></i><b>2.6</b> Exercise</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#scales"><i class="fa fa-check"></i><b>2.7</b> Scales</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#statistical-transformations-stats-for-short"><i class="fa fa-check"></i><b>2.8</b> Statistical transformations (<strong>stats</strong> for short)</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#a-faceting"><i class="fa fa-check"></i><b>2.9</b> A faceting</a></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#exercise-2"><i class="fa fa-check"></i><b>2.10</b> Exercise</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#grouping"><i class="fa fa-check"></i><b>2.11</b> Grouping</a></li>
<li class="chapter" data-level="2.12" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#themes"><i class="fa fa-check"></i><b>2.12</b> Themes</a></li>
<li class="chapter" data-level="2.13" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#save-a-ggplot"><i class="fa fa-check"></i><b>2.13</b> Save a ggplot</a></li>
<li class="chapter" data-level="2.14" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#more-resources"><i class="fa fa-check"></i><b>2.14</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="3.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#r-functions-for-descriptive-statistics"><i class="fa fa-check"></i><b>3.1</b> R functions for descriptive statistics</a></li>
<li class="chapter" data-level="3.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#qplot"><i class="fa fa-check"></i><b>3.2</b> qplot()</a></li>
<li class="chapter" data-level="3.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#scatterplots"><i class="fa fa-check"></i><b>3.3</b> Scatterplots</a></li>
<li class="chapter" data-level="3.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#histogram"><i class="fa fa-check"></i><b>3.4</b> Histogram</a></li>
<li class="chapter" data-level="3.5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#density-plots"><i class="fa fa-check"></i><b>3.5</b> Density plots</a></li>
<li class="chapter" data-level="3.6" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#barplots"><i class="fa fa-check"></i><b>3.6</b> Barplots</a></li>
<li class="chapter" data-level="3.7" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#boxplots"><i class="fa fa-check"></i><b>3.7</b> Boxplots</a></li>
<li class="chapter" data-level="3.8" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#faceting"><i class="fa fa-check"></i><b>3.8</b> Faceting</a></li>
<li class="chapter" data-level="3.9" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#the-corrplot-package"><i class="fa fa-check"></i><b>3.9</b> The <code>corrplot</code> Package</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-3.html"><a href="exercise-3.html"><i class="fa fa-check"></i><b>4</b> Exercise</a></li>
<li class="chapter" data-level="5" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>5</b> Base R</a><ul>
<li class="chapter" data-level="5.1" data-path="base-r.html"><a href="base-r.html#topics"><i class="fa fa-check"></i><b>5.1</b> Topics</a></li>
<li class="chapter" data-level="5.2" data-path="base-r.html"><a href="base-r.html#further-reading"><i class="fa fa-check"></i><b>5.2</b> Further reading</a></li>
<li class="chapter" data-level="5.3" data-path="base-r.html"><a href="base-r.html#interaction-with-r"><i class="fa fa-check"></i><b>5.3</b> Interaction with R</a></li>
<li class="chapter" data-level="5.4" data-path="base-r.html"><a href="base-r.html#r-objects-and-variables"><i class="fa fa-check"></i><b>5.4</b> R Objects and Variables</a></li>
<li class="chapter" data-level="5.5" data-path="base-r.html"><a href="base-r.html#data-structure"><i class="fa fa-check"></i><b>5.5</b> Data Structure</a></li>
<li class="chapter" data-level="5.6" data-path="base-r.html"><a href="base-r.html#vectors-come-in-two-flavours"><i class="fa fa-check"></i><b>5.6</b> Vectors Come in Two Flavours</a></li>
<li class="chapter" data-level="5.7" data-path="base-r.html"><a href="base-r.html#a-vector-has-three-properties"><i class="fa fa-check"></i><b>5.7</b> A Vector Has Three Properties</a></li>
<li class="chapter" data-level="5.8" data-path="base-r.html"><a href="base-r.html#attributes"><i class="fa fa-check"></i><b>5.8</b> Attributes</a></li>
<li class="chapter" data-level="5.9" data-path="base-r.html"><a href="base-r.html#type-coercion-conversion"><i class="fa fa-check"></i><b>5.9</b> Type Coercion (Conversion)</a></li>
<li class="chapter" data-level="5.10" data-path="base-r.html"><a href="base-r.html#na-represents-missing"><i class="fa fa-check"></i><b>5.10</b> NA represents missing</a></li>
<li class="chapter" data-level="5.11" data-path="base-r.html"><a href="base-r.html#useful-functions-for-a-vector"><i class="fa fa-check"></i><b>5.11</b> Useful Functions for a vector</a><ul>
<li class="chapter" data-level="5.11.1" data-path="base-r.html"><a href="base-r.html#generate-a-vector"><i class="fa fa-check"></i><b>5.11.1</b> Generate a vector</a></li>
<li class="chapter" data-level="5.11.2" data-path="base-r.html"><a href="base-r.html#indexing-or-subsetting-a-vector"><i class="fa fa-check"></i><b>5.11.2</b> Indexing or subsetting a Vector</a></li>
<li class="chapter" data-level="5.11.3" data-path="base-r.html"><a href="base-r.html#arrange-a-vector"><i class="fa fa-check"></i><b>5.11.3</b> Arrange a vector</a></li>
<li class="chapter" data-level="5.11.4" data-path="base-r.html"><a href="base-r.html#vectorization-of-functions"><i class="fa fa-check"></i><b>5.11.4</b> Vectorization of Functions</a></li>
<li class="chapter" data-level="5.11.5" data-path="base-r.html"><a href="base-r.html#some-more-functions"><i class="fa fa-check"></i><b>5.11.5</b> Some more functions</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="base-r.html"><a href="base-r.html#exercise-on-vectors"><i class="fa fa-check"></i><b>5.12</b> Exercise on vectors</a></li>
<li class="chapter" data-level="5.13" data-path="base-r.html"><a href="base-r.html#factors"><i class="fa fa-check"></i><b>5.13</b> Factors</a><ul>
<li class="chapter" data-level="5.13.1" data-path="base-r.html"><a href="base-r.html#what-is-a-factor"><i class="fa fa-check"></i><b>5.13.1</b> What is a factor?</a></li>
<li class="chapter" data-level="5.13.2" data-path="base-r.html"><a href="base-r.html#creating-a-factor"><i class="fa fa-check"></i><b>5.13.2</b> Creating a factor</a></li>
<li class="chapter" data-level="5.13.3" data-path="base-r.html"><a href="base-r.html#unordered-vs-ordered-factor"><i class="fa fa-check"></i><b>5.13.3</b> unordered vs ordered factor</a></li>
<li class="chapter" data-level="5.13.4" data-path="base-r.html"><a href="base-r.html#why-factors"><i class="fa fa-check"></i><b>5.13.4</b> Why factors?</a></li>
<li class="chapter" data-level="5.13.5" data-path="base-r.html"><a href="base-r.html#some-more-comments"><i class="fa fa-check"></i><b>5.13.5</b> Some more comments</a></li>
<li class="chapter" data-level="5.13.6" data-path="base-r.html"><a href="base-r.html#exercise-4"><i class="fa fa-check"></i><b>5.13.6</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="base-r.html"><a href="base-r.html#lists"><i class="fa fa-check"></i><b>5.14</b> Lists</a><ul>
<li class="chapter" data-level="5.14.1" data-path="base-r.html"><a href="base-r.html#what-is-a-list"><i class="fa fa-check"></i><b>5.14.1</b> What is a list?</a></li>
<li class="chapter" data-level="5.14.2" data-path="base-r.html"><a href="base-r.html#creating-a-list"><i class="fa fa-check"></i><b>5.14.2</b> Creating a list</a></li>
<li class="chapter" data-level="5.14.3" data-path="base-r.html"><a href="base-r.html#why-lists"><i class="fa fa-check"></i><b>5.14.3</b> Why lists?</a></li>
<li class="chapter" data-level="5.14.4" data-path="base-r.html"><a href="base-r.html#subsetting-a-list"><i class="fa fa-check"></i><b>5.14.4</b> Subsetting a List</a></li>
<li class="chapter" data-level="5.14.5" data-path="base-r.html"><a href="base-r.html#exercise-5"><i class="fa fa-check"></i><b>5.14.5</b> Exercise</a></li>
<li class="chapter" data-level="5.14.6" data-path="base-r.html"><a href="base-r.html#data-frames"><i class="fa fa-check"></i><b>5.14.6</b> Data frames</a></li>
<li class="chapter" data-level="5.14.7" data-path="base-r.html"><a href="base-r.html#the-apply-family-of-functions"><i class="fa fa-check"></i><b>5.14.7</b> The apply family of functions</a></li>
<li class="chapter" data-level="5.14.8" data-path="base-r.html"><a href="base-r.html#exercise-6"><i class="fa fa-check"></i><b>5.14.8</b> Exercise</a></li>
<li class="chapter" data-level="5.14.9" data-path="base-r.html"><a href="base-r.html#more-resources-1"><i class="fa fa-check"></i><b>5.14.9</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="base-r.html"><a href="base-r.html#matrices-and-arrays"><i class="fa fa-check"></i><b>5.15</b> Matrices and Arrays</a></li>
<li class="chapter" data-level="5.16" data-path="base-r.html"><a href="base-r.html#data-frames-1"><i class="fa fa-check"></i><b>5.16</b> Data Frames</a></li>
<li class="chapter" data-level="5.17" data-path="base-r.html"><a href="base-r.html#operators"><i class="fa fa-check"></i><b>5.17</b> Operators</a></li>
<li class="chapter" data-level="5.18" data-path="base-r.html"><a href="base-r.html#subsetting-a-matrix-and-array"><i class="fa fa-check"></i><b>5.18</b> Subsetting a Matrix and Array</a></li>
<li class="chapter" data-level="5.19" data-path="base-r.html"><a href="base-r.html#exercise-7"><i class="fa fa-check"></i><b>5.19</b> Exercise</a></li>
<li class="chapter" data-level="5.20" data-path="base-r.html"><a href="base-r.html#combine-matrices-by-columns-or-rows"><i class="fa fa-check"></i><b>5.20</b> Combine Matrices by Columns or Rows</a></li>
<li class="chapter" data-level="5.21" data-path="base-r.html"><a href="base-r.html#names-of-the-columns-and-rows-of-matrices"><i class="fa fa-check"></i><b>5.21</b> Names of the Columns and Rows of Matrices</a></li>
<li class="chapter" data-level="5.22" data-path="base-r.html"><a href="base-r.html#functions"><i class="fa fa-check"></i><b>5.22</b> Functions</a></li>
<li class="chapter" data-level="5.23" data-path="base-r.html"><a href="base-r.html#an-example-of-functions"><i class="fa fa-check"></i><b>5.23</b> An Example of Functions</a></li>
<li class="chapter" data-level="5.24" data-path="base-r.html"><a href="base-r.html#user-defined-functions"><i class="fa fa-check"></i><b>5.24</b> User-Defined Functions</a></li>
<li class="chapter" data-level="5.25" data-path="base-r.html"><a href="base-r.html#exercise-8"><i class="fa fa-check"></i><b>5.25</b> Exercise</a></li>
<li class="chapter" data-level="5.26" data-path="base-r.html"><a href="base-r.html#some-comments-on-functions"><i class="fa fa-check"></i><b>5.26</b> Some Comments on Functions</a></li>
<li class="chapter" data-level="5.27" data-path="base-r.html"><a href="base-r.html#generating-sequences"><i class="fa fa-check"></i><b>5.27</b> Generating Sequences</a></li>
<li class="chapter" data-level="5.28" data-path="base-r.html"><a href="base-r.html#control-flow-if-else"><i class="fa fa-check"></i><b>5.28</b> Control Flow (if-else)</a></li>
<li class="chapter" data-level="5.29" data-path="base-r.html"><a href="base-r.html#control-flow-for"><i class="fa fa-check"></i><b>5.29</b> Control Flow (for)</a></li>
<li class="chapter" data-level="5.30" data-path="base-r.html"><a href="base-r.html#control-flow-for-1"><i class="fa fa-check"></i><b>5.30</b> Control Flow (for)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="base-r-quiz.html"><a href="base-r-quiz.html"><i class="fa fa-check"></i><b>6</b> Base R Quiz</a><ul>
<li class="chapter" data-level="6.0.1" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset1-diamonds-is-a-dataset-in-ggplot2-containing-the-prices-and-other-attributes-of-almost-54000-diamonds.-in-the-dataset-price-is-the-price-of-diamonds-in-us-dollars-and-carat-is-the-weight-of-the-diamonds-0.2-5.01."><i class="fa fa-check"></i><b>6.0.1</b> Dataset1: <code>diamonds</code> is a dataset in <code>ggplot2</code> containing the prices and other attributes of almost 54,000 diamonds. In the dataset, <code>price</code> is the price of diamonds in US dollars, and <code>carat</code> is the weight of the diamonds (0.2-5.01).</a></li>
<li class="chapter" data-level="6.0.2" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-1"><i class="fa fa-check"></i><b>6.0.2</b> Quiz problem 1</a></li>
<li class="chapter" data-level="6.0.3" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-2"><i class="fa fa-check"></i><b>6.0.3</b> Quiz problem 2</a></li>
<li class="chapter" data-level="6.0.4" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-3"><i class="fa fa-check"></i><b>6.0.4</b> Quiz problem 3</a></li>
<li class="chapter" data-level="6.0.5" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-4"><i class="fa fa-check"></i><b>6.0.5</b> Quiz problem 4</a></li>
<li class="chapter" data-level="6.0.6" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-5"><i class="fa fa-check"></i><b>6.0.6</b> Quiz problem 5</a></li>
<li class="chapter" data-level="6.0.7" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset2-bfi-is-a-dataset-in-the-psych-package-containing-25-personality-self-report-items-taken-from-the-international-personality-item-pool.-in-the-dataset"><i class="fa fa-check"></i><b>6.0.7</b> Dataset2: <code>bfi</code> is a dataset in the <code>psych</code> package containing 25 personality self report items taken from the International Personality Item Pool. In the dataset,</a></li>
<li class="chapter" data-level="6.0.8" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-6"><i class="fa fa-check"></i><b>6.0.8</b> Quiz problem 6</a></li>
<li class="chapter" data-level="6.0.9" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-7"><i class="fa fa-check"></i><b>6.0.9</b> Quiz problem 7</a></li>
<li class="chapter" data-level="6.0.10" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-8"><i class="fa fa-check"></i><b>6.0.10</b> Quiz problem 8</a></li>
<li class="chapter" data-level="6.0.11" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-9"><i class="fa fa-check"></i><b>6.0.11</b> Quiz problem 9</a></li>
<li class="chapter" data-level="6.0.12" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-10"><i class="fa fa-check"></i><b>6.0.12</b> Quiz problem 10</a></li>
<li class="chapter" data-level="6.0.13" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset1-diamonds-is-a-dataset-in-ggplot2-containing-the-prices-and-other-attributes-of-almost-54000-diamonds.-in-the-dataset-price-is-the-price-of-diamonds-in-us-dollars-and-carat-is-the-weight-of-the-diamonds-0.2-5.01.-1"><i class="fa fa-check"></i><b>6.0.13</b> Dataset1: <code>diamonds</code> is a dataset in <code>ggplot2</code> containing the prices and other attributes of almost 54,000 diamonds. In the dataset, <code>price</code> is the price of diamonds in US dollars, and <code>carat</code> is the weight of the diamonds (0.2-5.01).</a></li>
<li class="chapter" data-level="6.0.14" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-1-1"><i class="fa fa-check"></i><b>6.0.14</b> Quiz problem 1</a></li>
<li class="chapter" data-level="6.0.15" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-2-1"><i class="fa fa-check"></i><b>6.0.15</b> Quiz problem 2</a></li>
<li class="chapter" data-level="6.0.16" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-3-1"><i class="fa fa-check"></i><b>6.0.16</b> Quiz problem 3</a></li>
<li class="chapter" data-level="6.0.17" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-4-1"><i class="fa fa-check"></i><b>6.0.17</b> Quiz problem 4</a></li>
<li class="chapter" data-level="6.0.18" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-5-1"><i class="fa fa-check"></i><b>6.0.18</b> Quiz problem 5</a></li>
<li class="chapter" data-level="6.0.19" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset2-bfi-is-a-dataset-in-the-psych-package-containing-25-personality-self-report-items-taken-from-the-international-personality-item-pool.-in-the-dataset-1"><i class="fa fa-check"></i><b>6.0.19</b> Dataset2: <code>bfi</code> is a dataset in the <code>psych</code> package containing 25 personality self report items taken from the International Personality Item Pool. In the dataset,</a></li>
<li class="chapter" data-level="6.0.20" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-6-1"><i class="fa fa-check"></i><b>6.0.20</b> Quiz problem 6</a></li>
<li class="chapter" data-level="6.0.21" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-7-1"><i class="fa fa-check"></i><b>6.0.21</b> Quiz problem 7</a></li>
<li class="chapter" data-level="6.0.22" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-8-1"><i class="fa fa-check"></i><b>6.0.22</b> Quiz problem 8</a></li>
<li class="chapter" data-level="6.0.23" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-9-1"><i class="fa fa-check"></i><b>6.0.23</b> Quiz problem 9</a></li>
<li class="chapter" data-level="6.0.24" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-10-1"><i class="fa fa-check"></i><b>6.0.24</b> Quiz problem 10</a></li>
<li class="chapter" data-level="6.0.25" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset1-diamonds-is-a-dataset-in-ggplot2-containing-the-prices-and-other-attributes-of-almost-54000-diamonds.-in-the-dataset-price-is-the-price-of-diamonds-in-us-dollars-and-carat-is-the-weight-of-the-diamonds-0.2-5.01.-2"><i class="fa fa-check"></i><b>6.0.25</b> Dataset1: <code>diamonds</code> is a dataset in <code>ggplot2</code> containing the prices and other attributes of almost 54,000 diamonds. In the dataset, <code>price</code> is the price of diamonds in US dollars, and <code>carat</code> is the weight of the diamonds (0.2-5.01).</a></li>
<li class="chapter" data-level="6.0.26" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-1-2"><i class="fa fa-check"></i><b>6.0.26</b> Quiz problem 1</a></li>
<li class="chapter" data-level="6.0.27" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-2-2"><i class="fa fa-check"></i><b>6.0.27</b> Quiz problem 2</a></li>
<li class="chapter" data-level="6.0.28" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-3-2"><i class="fa fa-check"></i><b>6.0.28</b> Quiz problem 3</a></li>
<li class="chapter" data-level="6.0.29" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-4-2"><i class="fa fa-check"></i><b>6.0.29</b> Quiz problem 4</a></li>
<li class="chapter" data-level="6.0.30" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-5-2"><i class="fa fa-check"></i><b>6.0.30</b> Quiz problem 5</a></li>
<li class="chapter" data-level="6.0.31" data-path="base-r-quiz.html"><a href="base-r-quiz.html#dataset2-bfi-is-a-dataset-in-the-psych-package-containing-25-personality-self-report-items-taken-from-the-international-personality-item-pool.-in-the-dataset-2"><i class="fa fa-check"></i><b>6.0.31</b> Dataset2: <code>bfi</code> is a dataset in the <code>psych</code> package containing 25 personality self report items taken from the International Personality Item Pool. In the dataset,</a></li>
<li class="chapter" data-level="6.0.32" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-6-2"><i class="fa fa-check"></i><b>6.0.32</b> Quiz problem 6</a></li>
<li class="chapter" data-level="6.0.33" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-7-2"><i class="fa fa-check"></i><b>6.0.33</b> Quiz problem 7</a></li>
<li class="chapter" data-level="6.0.34" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-8-2"><i class="fa fa-check"></i><b>6.0.34</b> Quiz problem 8</a></li>
<li class="chapter" data-level="6.0.35" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-9-2"><i class="fa fa-check"></i><b>6.0.35</b> Quiz problem 9</a></li>
<li class="chapter" data-level="6.0.36" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-10-2"><i class="fa fa-check"></i><b>6.0.36</b> Quiz problem 10</a></li>
<li class="chapter" data-level="6.0.37" data-path="base-r-quiz.html"><a href="base-r-quiz.html#quiz-problem-1-3"><i class="fa fa-check"></i><b>6.0.37</b> Quiz problem 1</a></li>
<li class="chapter" data-level="6.1" data-path="base-r-quiz.html"><a href="base-r-quiz.html#exercise-on-vectors-1"><i class="fa fa-check"></i><b>6.1</b> Exercise on vectors</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R, Rstudio, and ggplot2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="base-r" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Base R</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">suppressMessages</span>(<span class="kw">library</span>(tidyverse))</code></pre></div>
<div id="topics" class="section level2">
<h2><span class="header-section-number">5.1</span> Topics</h2>
<ul>
<li>R Objects and Variables</li>
<li>Data Structure</li>
<li>Sub-Setting</li>
<li>Functions</li>
<li>Control Flow (if, for, while)</li>
</ul>
</div>
<div id="further-reading" class="section level2">
<h2><span class="header-section-number">5.2</span> Further reading</h2>
<ul>
<li>Wickham, H. (2014). Advanced R. Chapman and Hall/CRC
<ul>
<li><a href="http://adv-r.had.co.nz" class="uri">http://adv-r.had.co.nz</a></li>
<li>This is a nice book to read after you become comfortable in base R (not required in this course)</li>
</ul></li>
</ul>
</div>
<div id="interaction-with-r" class="section level2">
<h2><span class="header-section-number">5.3</span> Interaction with R</h2>
<ul>
<li>R Console: for easy interactive exploration of ideas</li>
<li>R Script file (.R): for sequence of R commands</li>
<li>R markdown (.Rmd): for reproducible and dynamic reports</li>
</ul>
</div>
<div id="r-objects-and-variables" class="section level2">
<h2><span class="header-section-number">5.4</span> R Objects and Variables</h2>
<ul>
<li><strong>Everything in R is stored as an object</strong>, which is associated with a variable name.</li>
<li>An object is a technical terminology defined in <strong>Object Oriented Programming (OOP)</strong>. (OOP is an important concept but not in this class)</li>
<li>A variable name can be assigned to an object using the <strong>assignment operator</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># store a number to a variable named `a`</span>
a &lt;-<span class="st"> </span><span class="fl">0.2</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print a</span>
a</code></pre></div>
<pre><code>## [1] 0.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># store a vector to a variable named `b`</span>
b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print b</span>
b</code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span><span class="dv">5</span>
i &lt;-<span class="st"> </span>(z *<span class="st"> </span><span class="dv">2</span> +<span class="st"> </span><span class="dv">45</span>)/<span class="dv">2</span>
i</code></pre></div>
<pre><code>## [1] 27.5</code></pre>
<ul>
<li>We can think of the assignment operation as â€œ<strong>evaluate</strong> whatever is given on the <strong>right side</strong> of the operator, and assign (store) the result (an object of some type) of this evaluation in the variable whose name is given on the <strong>left side</strong></li>
</ul>
</div>
<div id="data-structure" class="section level2">
<h2><span class="header-section-number">5.5</span> Data Structure</h2>
<ul>
<li>R has <strong>base data structures</strong>.</li>
<li>Almost all other objects are built upon base data structures.</li>
<li>R base data structures can be organized by their dimensionality:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Dimension</th>
<th>Homogeneous</th>
<th>Heterogeneous</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1D</td>
<td>Atomic vector</td>
<td>List</td>
</tr>
<tr class="even">
<td>2D</td>
<td>Matrix</td>
<td>Data frame</td>
</tr>
<tr class="odd">
<td>nD</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<div class="figure">
<img src="datastructure.png" />

</div>
</div>
<div id="vectors-come-in-two-flavours" class="section level2">
<h2><span class="header-section-number">5.6</span> Vectors Come in Two Flavours</h2>
<ul>
<li>Atomic vectors (homogeneous)
<ul>
<li>All elements of an atomic vector <strong>must be the same type</strong>.</li>
<li>There are <strong>6 types</strong> of an atomic vector
<ul>
<li><strong>Logical</strong> (TRUE or FALSE), <strong>integer</strong>, <strong>double</strong>, and <strong>character</strong> (+ rarely used <strong>complex</strong> and <strong>raw</strong>)</li>
</ul></li>
<li>Atomic vectors are usually created with <code>c()</code>, short for combine:
<ul>
<li><code>a &lt;- c(TRUE, FALSE, T, F)</code> # logical</li>
<li><code>a &lt;- c(1L, 6L, 5L)</code> # integer</li>
<li><code>a &lt;- c(1, 2.5, 3.8)</code> # double</li>
<li><code>a &lt;- c(&quot;apple&quot;, &quot;orange&quot;)</code> # character</li>
</ul></li>
</ul></li>
<li>Lists (heterogeneous)
<ul>
<li>Lists are different from atomic vectors because their elements can be of any type.</li>
<li>List are created by <code>list()</code></li>
<li><code>&gt; x &lt;- list(1:3, &quot;a&quot;, c(TRUE, FALSE))</code></li>
</ul></li>
</ul>
</div>
<div id="a-vector-has-three-properties" class="section level2">
<h2><span class="header-section-number">5.7</span> A Vector Has Three Properties</h2>
<ul>
<li><strong>Type</strong>: <code>typeof()</code> returns the type of an object.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<ul>
<li><strong>Length</strong>: <code>length()</code> returns the number of elements in a vector</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li><strong>Attributes</strong>: <code>attributes()</code> returns additional arbitrary metadata</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="attributes" class="section level2">
<h2><span class="header-section-number">5.8</span> Attributes</h2>
<ul>
<li>All objects can have attributes to store <strong>metadata</strong> about the object.</li>
<li>Attributes can be considered as a <strong>named list</strong>.</li>
<li>Attributes can be accessed individually with <code>attr()</code> or all at once with <code>attributes()</code>.</li>
<li>Names are attributes of a vector. You can name a vector in two ways:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">x=</span><span class="dv">1</span>,<span class="dt">y=</span><span class="dv">2</span>,<span class="dt">z=</span><span class="dv">3</span>)   <span class="co"># when creating</span>
<span class="kw">names</span>(a)</code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;n&quot;</span>)   <span class="co"># by modifying existing names</span>
a</code></pre></div>
<pre><code>## l m n 
## 1 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(a)    <span class="co"># names are attributes</span></code></pre></div>
<pre><code>## $names
## [1] &quot;l&quot; &quot;m&quot; &quot;n&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(mtcars)</code></pre></div>
<pre><code>## $names
##  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
## [11] &quot;carb&quot;
## 
## $row.names
##  [1] &quot;Mazda RX4&quot;           &quot;Mazda RX4 Wag&quot;       &quot;Datsun 710&quot;         
##  [4] &quot;Hornet 4 Drive&quot;      &quot;Hornet Sportabout&quot;   &quot;Valiant&quot;            
##  [7] &quot;Duster 360&quot;          &quot;Merc 240D&quot;           &quot;Merc 230&quot;           
## [10] &quot;Merc 280&quot;            &quot;Merc 280C&quot;           &quot;Merc 450SE&quot;         
## [13] &quot;Merc 450SL&quot;          &quot;Merc 450SLC&quot;         &quot;Cadillac Fleetwood&quot; 
## [16] &quot;Lincoln Continental&quot; &quot;Chrysler Imperial&quot;   &quot;Fiat 128&quot;           
## [19] &quot;Honda Civic&quot;         &quot;Toyota Corolla&quot;      &quot;Toyota Corona&quot;      
## [22] &quot;Dodge Challenger&quot;    &quot;AMC Javelin&quot;         &quot;Camaro Z28&quot;         
## [25] &quot;Pontiac Firebird&quot;    &quot;Fiat X1-9&quot;           &quot;Porsche 914-2&quot;      
## [28] &quot;Lotus Europa&quot;        &quot;Ford Pantera L&quot;      &quot;Ferrari Dino&quot;       
## [31] &quot;Maserati Bora&quot;       &quot;Volvo 142E&quot;         
## 
## $class
## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="type-coercion-conversion" class="section level2">
<h2><span class="header-section-number">5.9</span> Type Coercion (Conversion)</h2>
<ul>
<li>All elements of a vector must belong to the same base data type. If that is not true, R will automatically <strong>force</strong> it by type coercion.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="fl">23.5</span>, <span class="fl">76.2</span>, <span class="dv">80</span>, <span class="st">&quot;rrt&quot;</span>)
v</code></pre></div>
<pre><code>## [1] &quot;4&quot;    &quot;7&quot;    &quot;23.5&quot; &quot;76.2&quot; &quot;80&quot;   &quot;rrt&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<ul>
<li>Functions can automatically convert data type.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>You can <strong>explicitly</strong> convert data type with <code>as.character()</code>, <code>as.double()</code>, <code>as.integer()</code>, and <code>as.logical()</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
a</code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">as.character</span>(a)
b</code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
</div>
<div id="na-represents-missing" class="section level2">
<h2><span class="header-section-number">5.10</span> NA represents missing</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">u &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="ot">NA</span>, <span class="dv">2</span>)
u</code></pre></div>
<pre><code>## [1]  4  6 NA  2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">k &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">NA</span>, <span class="ot">TRUE</span>)
k</code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE    NA  TRUE</code></pre>
</div>
<div id="useful-functions-for-a-vector" class="section level2">
<h2><span class="header-section-number">5.11</span> Useful Functions for a vector</h2>
<div id="generate-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.1</span> Generate a vector</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># we can manually type the element of a vector using c()</span>
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)
a</code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># c() also combine vectors</span>
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)
c &lt;-<span class="st"> </span><span class="kw">c</span>(a, b)
c</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># k:n generates a vector whose elements are the sequence of numbers from k to n</span>
<span class="dv">1</span>:<span class="dv">10</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># seq() generates regular sequence</span>
<span class="co"># seq(from, to)</span>
<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># seq(from, to, by)</span>
<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rep(x, times) replicates the values in x multiple times</span>
<span class="co"># x can be a number or vector</span>
<span class="co"># replicates 1 5 times</span>
<span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 1 1 1 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># replicates c(1, 2) 5 times</span>
<span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dv">5</span>)</code></pre></div>
<pre><code>##  [1] 1 2 1 2 1 2 1 2 1 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># each element of c(1,2) is repeated 5 times</span>
<span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">each =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>##  [1] 1 1 1 1 1 2 2 2 2 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rnorm(n, mean = 0, sd = 1) generates a vector of n random samples </span>
<span class="co"># from a normal distribution with specific mean and sd. </span>
<span class="kw">rnorm</span>(<span class="dv">100</span>)</code></pre></div>
<pre><code>##   [1] -0.40561705 -0.57362464 -0.18193240 -0.65440644 -1.14272671
##   [6] -0.27495892  0.63601424 -1.10767108  0.90089125  1.03264518
##  [11] -1.55838698  1.78460363  1.91376644  1.31813944  1.35945315
##  [16] -0.17387179 -1.72752492 -0.09602062 -0.56156101  0.22550511
##  [21]  1.12657973 -0.21651614  0.65311779  0.46291297 -0.52257738
##  [26]  1.95563744  0.30441203 -1.20109872  1.30096804  0.80211396
##  [31] -0.09499040 -0.77619991  0.44401640  0.64320876 -1.22716502
##  [36]  0.54915844 -2.12981559 -0.57100139  1.87379172  0.93890196
##  [41]  0.29987608  0.14463947  0.86435118  0.04591090  0.16540662
##  [46] -0.97979209  0.26898643 -0.12651495  0.50490482  2.17158001
##  [51]  0.98026169  1.44369896  0.02984346  0.63271025 -1.33510158
##  [56] -0.17660561 -0.47914621  0.08697332 -1.46381081 -0.15098030
##  [61]  0.78443374 -0.38427216 -0.49051447 -0.45549537  0.32013898
##  [66] -0.80571088 -0.22878289 -0.24648643  1.85747954 -0.06480904
##  [71]  1.07670464  0.09065198  0.78720676 -0.41363199  0.25334328
##  [76]  0.67420073  0.14484417  0.50654001  0.48721453 -1.27499569
##  [81] -0.05825381  0.57160011 -0.56329564  0.57873282 -1.49084132
##  [86] -0.23730045 -0.63874899 -1.43015537  1.09276616  0.38410171
##  [91] -1.06584351 -2.47820546  0.75728655 -1.21346003  2.39434105
##  [96]  0.45130753  0.09327687  0.79017010 -0.15830129 -0.22483116</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="kw">rnorm</span>(<span class="dv">10000</span>))</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># runif(n, min, max) generates a vector of n random samples </span>
<span class="co"># from a uniform distribution whose limits are min and max. </span>
<span class="kw">runif</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">1</span>)</code></pre></div>
<pre><code>##   [1] 0.243531636 0.438462188 0.162195855 0.847732221 0.787092819
##   [6] 0.938648940 0.351408510 0.263856894 0.339719470 0.221049187
##  [11] 0.884007571 0.784494380 0.982852343 0.644962007 0.830106560
##  [16] 0.680879737 0.856733986 0.356257133 0.749509976 0.574212553
##  [21] 0.647748807 0.763175899 0.716375770 0.063365508 0.681831748
##  [26] 0.229791256 0.444451479 0.563223538 0.688882947 0.429188643
##  [31] 0.763076278 0.531661777 0.276513796 0.360008628 0.224121418
##  [36] 0.500098781 0.187944460 0.733709662 0.988379724 0.467074012
##  [41] 0.969768008 0.153011943 0.741525345 0.709016462 0.632866395
##  [46] 0.929547991 0.748750472 0.572828678 0.791760966 0.098073662
##  [51] 0.842423023 0.758836784 0.286212490 0.628383152 0.155892539
##  [56] 0.998495460 0.440895279 0.869249910 0.917121775 0.658107420
##  [61] 0.372669281 0.033754769 0.128427471 0.656939740 0.285775367
##  [66] 0.628140793 0.864338222 0.509078746 0.315308084 0.244355998
##  [71] 0.044252232 0.798899245 0.009211692 0.121169613 0.088937894
##  [76] 0.079743998 0.264938090 0.884972533 0.624877480 0.334822977
##  [81] 0.529905700 0.346287065 0.311038577 0.038883031 0.481351841
##  [86] 0.707017331 0.414505053 0.241937967 0.004355345 0.923758502
##  [91] 0.595646955 0.789364501 0.458658799 0.165075392 0.534503010
##  [96] 0.242483509 0.511123588 0.223122138 0.403433456 0.580741869</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="kw">runif</span>(<span class="dv">10000</span>, <span class="dv">0</span>, <span class="dv">1</span>))</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
</div>
<div id="indexing-or-subsetting-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.2</span> Indexing or subsetting a Vector</h3>
<ul>
<li><p>You can access a particular element of a vector through an <strong>index</strong> between <strong>square brackets</strong> or <strong>indexing (subsetting) operator</strong>.</p></li>
<li><p><strong>Positive integers</strong> return elements at the specified positions.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)
x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>)]</code></pre></div>
<pre><code>## [1] 4 2</code></pre>
<ul>
<li><strong>Negative integers</strong> omit elements at the specified positions:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[-<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>)]</code></pre></div>
<pre><code>## [1] 3 5 6 7</code></pre>
<ul>
<li><strong>Logical vectors</strong> select elements where the corresponding logical value is TRUE. This <strong>logical indexing</strong> is very useful because we can subset a vector or dataframe based on conditions.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>)]</code></pre></div>
<pre><code>## [1] 2 3 6 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &gt;<span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This is called a logical indexing, which is a very powerful tool.</span>
<span class="co"># &gt; : greater than (Logical Operators)</span>
x[x &gt;<span class="st"> </span><span class="dv">3</span>]   </code></pre></div>
<pre><code>## [1] 4 5 6 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[x &gt;<span class="st"> </span><span class="dv">3</span> &amp;<span class="st"> </span>x &lt;<span class="st"> </span><span class="dv">5</span>]</code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># %in% operator </span>
<span class="co"># v1 %in% v2 returns a logical vector indicating </span>
<span class="co"># whether the elements of v1 are included in v2. </span>
<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) %in%<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)
a</code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># we replace an element of a vector using the indexing and assignment operators. </span>
a[<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="dv">100</span>
a</code></pre></div>
<pre><code>## [1]   1   2 100   4   5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)] &lt;-<span class="st"> </span><span class="dv">100</span>
a</code></pre></div>
<pre><code>## [1] 100   2 100   4 100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NA</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="ot">NA</span>)
a</code></pre></div>
<pre><code>## [1]  1  2  3 NA  5  6 NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># is.na indicates which elements are missing</span>
<span class="kw">is.na</span>(a)  <span class="co"># returns TRUE when missing</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Type conversion: TRUE and FALSE will be converted into 1 and 0, respectively. </span>
<span class="co"># This expression answers the question: How many NSs are in a?</span>
<span class="kw">sum</span>(<span class="kw">is.na</span>(a))</code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># !x = not x (negation)</span>
!<span class="kw">is.na</span>(a)  <span class="co"># returns TRUE when not missing</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This expression answers the question: How many non-NSs are in a?</span>
<span class="kw">sum</span>(!<span class="kw">is.na</span>(a))</code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># logical indexing</span>
a[<span class="kw">is.na</span>(a)] &lt;-<span class="st"> </span><span class="dv">999</span>
a</code></pre></div>
<pre><code>## [1]   1   2   3 999   5   6 999</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a vector with names</span>
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">2</span>, <span class="dt">z =</span> <span class="dv">3</span>)
a</code></pre></div>
<pre><code>## x y z 
## 1 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># named vector can be indexed using their names</span>
a[<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;z&quot;</span>)]</code></pre></div>
<pre><code>## x z 
## 1 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span>
<span class="co"># In this example, R recycled c(TRUE, FALSE) to produce c(TRUE, FALSE, TRUE, FALSE)</span>
i &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)
a[i]</code></pre></div>
<pre><code>## [1] 1 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span>
v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)
v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>)
v1+v2</code></pre></div>
<pre><code>## [1] 14 15 16 17</code></pre>
</div>
<div id="arrange-a-vector" class="section level3">
<h3><span class="header-section-number">5.11.3</span> Arrange a vector</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sort(x, decreasing = FALSE) </span>
<span class="co"># By default, sort() sorts ascending order.</span>
<span class="kw">sort</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sorts into descending order</span>
<span class="kw">sort</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] 6 5 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rev() provides a reversed version of its argument</span>
<span class="kw">rev</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</code></pre></div>
<pre><code>## [1] 4 6 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rank() returns the sample ranks of the elements in a vector</span>
<span class="kw">rank</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</code></pre></div>
<pre><code>## [1] 2 3 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># order() returns a permutation which rearranges </span>
<span class="co"># its first argument into ascending or descending order. </span>
<span class="co"># What this means is order(c(5,6,4)) </span>
<span class="co"># 1) first sorts a vector in ascending order to produce c(4,5,6)</span>
<span class="co"># 2) and returns the indices of the sorted element in the original vector. </span>
<span class="co"># e.g., we have 3 first b/c the index of 4 in the original vector is 3</span>
<span class="co"># e.g., we have 1 first b/c the index of 5 in the original vector is 1</span>
<span class="co"># e.g., we have 2 first b/c the index of 6 in the original vector is 2</span>
<span class="kw">order</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</code></pre></div>
<pre><code>## [1] 3 1 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># We use order() to sort a vector or dataframe</span>
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>)
a[<span class="kw">order</span>(a)]</code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sort a dataframe</span>
<span class="kw">head</span>(mtcars[<span class="kw">order</span>(mtcars$mpg), ])</code></pre></div>
<pre><code>##                      mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Cadillac Fleetwood  10.4   8  472 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4
## Camaro Z28          13.3   8  350 245 3.73 3.840 15.41  0  0    3    4
## Duster 360          14.3   8  360 245 3.21 3.570 15.84  0  0    3    4
## Chrysler Imperial   14.7   8  440 230 3.23 5.345 17.42  0  0    3    4
## Maserati Bora       15.0   8  301 335 3.54 3.570 14.60  0  1    5    8</code></pre>
</div>
<div id="vectorization-of-functions" class="section level3">
<h3><span class="header-section-number">5.11.4</span> Vectorization of Functions</h3>
<ul>
<li>One of the most powerful aspects of R is the vectorization of functions.</li>
<li>Many R functions can be applied to a vector of values producing an <strong>equal-sized vector of results</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">25</span>)
<span class="kw">sqrt</span>(v)</code></pre></div>
<pre><code>## [1] 1 2 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
v^<span class="dv">2</span></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)
v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>)
v1+v2</code></pre></div>
<pre><code>## [1] 14  7  7  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># R uses a &quot;recycling rule&quot; by repeating the shorter vector</span>
v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)
v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">2</span>)
v1+v2</code></pre></div>
<pre><code>## [1] 14  7 16  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mean will be subtracted from every element of v1</span>
v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)
v1 -<span class="st"> </span><span class="kw">mean</span>(v1)</code></pre></div>
<pre><code>## [1] -1.5 -0.5  0.5  1.5</code></pre>
</div>
<div id="some-more-functions" class="section level3">
<h3><span class="header-section-number">5.11.5</span> Some more functions</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># table() creates a frequency table</span>
a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>)
<span class="kw">table</span>(a)</code></pre></div>
<pre><code>## a
## 1 2 3 4 
## 2 3 3 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># unique() returns a vector of unique elements</span>
<span class="kw">unique</span>(a)</code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NA</span>,<span class="dv">5</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># By default, mean() produces NA when there&#39;s NAs in a vector</span>
<span class="kw">mean</span>(a)</code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># na.rm = TRUE removes NAs before computation</span>
<span class="kw">mean</span>(a, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] 2.75</code></pre>
</div>
</div>
<div id="exercise-on-vectors" class="section level2">
<h2><span class="header-section-number">5.12</span> Exercise on vectors</h2>
<p><code>mtcars</code> is a dataframe about fuel economy of various cars. In the dataset, <code>mpg</code> represents miles per gallon. <code>mtcars$mpg</code> allows us to access the <code>mpg</code> variable in the <code>mtcars</code> dataframe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span>mtcars$mpg</code></pre></div>
<ul>
<li>Calculate the length of the vector <code>a</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(a)</code></pre></div>
<pre><code>## [1] 32</code></pre>
<ul>
<li>Calculate the mean of <code>a</code> using <code>sum()</code> and <code>length()</code> functions.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(a)/<span class="kw">length</span>(a)</code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
<ul>
<li>Calculate the mean of <code>a</code> using <code>mean()</code> function.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(a)</code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> using <code>sd()</code> function.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(a)^<span class="dv">2</span></code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> using <code>var()</code> function.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">var</span>(a)</code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Calculate the variance of <code>a</code> by directly calculating the following expression: <span class="math inline">\([(a_1 - \bar{a})^2 + (a_2 - \bar{a})^2 + ... (a_n - \bar{a})^2]/(n-1) = \frac{\sum_{i=1}^{n}(a_i-\bar{a})^2}{n-1}\)</span>, where <span class="math inline">\(a = (a_1, a_2, ... , a_n)\)</span> and <span class="math inline">\(\bar{a} = mean(a)\)</span></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>((a-<span class="kw">mean</span>(a))^<span class="dv">2</span>)/(<span class="kw">length</span>(a)-<span class="dv">1</span>)</code></pre></div>
<pre><code>## [1] 36.3241</code></pre>
<ul>
<li>Standardize the vector <code>a</code>, i.e., <span class="math inline">\(z = \frac{a-\bar{a}}{sd(a)}\)</span>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(a-<span class="kw">mean</span>(a))/<span class="kw">sd</span>(a)</code></pre></div>
<pre><code>##  [1]  0.15088482  0.15088482  0.44954345  0.21725341 -0.23073453
##  [6] -0.33028740 -0.96078893  0.71501778  0.44954345 -0.14777380
## [11] -0.38006384 -0.61235388 -0.46302456 -0.81145962 -1.60788262
## [16] -1.60788262 -0.89442035  2.04238943  1.71054652  2.29127162
## [21]  0.23384555 -0.76168319 -0.81145962 -1.12671039 -0.14777380
## [26]  1.19619000  0.98049211  1.71054652 -0.71190675 -0.06481307
## [31] -0.84464392  0.21725341</code></pre>
<ul>
<li>Use <code>scale()</code> function to standardize <code>a</code> and compare the results with your manual calculation.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># check the help document of scale() by typing ?scale for more details</span>
<span class="kw">scale</span>(a)</code></pre></div>
<pre><code>##              [,1]
##  [1,]  0.15088482
##  [2,]  0.15088482
##  [3,]  0.44954345
##  [4,]  0.21725341
##  [5,] -0.23073453
##  [6,] -0.33028740
##  [7,] -0.96078893
##  [8,]  0.71501778
##  [9,]  0.44954345
## [10,] -0.14777380
## [11,] -0.38006384
## [12,] -0.61235388
## [13,] -0.46302456
## [14,] -0.81145962
## [15,] -1.60788262
## [16,] -1.60788262
## [17,] -0.89442035
## [18,]  2.04238943
## [19,]  1.71054652
## [20,]  2.29127162
## [21,]  0.23384555
## [22,] -0.76168319
## [23,] -0.81145962
## [24,] -1.12671039
## [25,] -0.14777380
## [26,]  1.19619000
## [27,]  0.98049211
## [28,]  1.71054652
## [29,] -0.71190675
## [30,] -0.06481307
## [31,] -0.84464392
## [32,]  0.21725341
## attr(,&quot;scaled:center&quot;)
## [1] 20.09062
## attr(,&quot;scaled:scale&quot;)
## [1] 6.026948</code></pre>
<ul>
<li>Calculate the difference between the largest and smallest numbers in <code>a</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(a)-<span class="kw">min</span>(a)</code></pre></div>
<pre><code>## [1] 23.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># another solution</span>
<span class="kw">diff</span>(<span class="kw">range</span>(a))</code></pre></div>
<pre><code>## [1] 23.5</code></pre>
<ul>
<li>Normalize the vector <code>a</code>, i.e., <span class="math inline">\(n = \frac{(x-min(x))}{(max(x)-min(x))}\)</span>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># your maximum value will be 1, and minimum value will be 0. </span>
(a-<span class="kw">min</span>(a))/(<span class="kw">max</span>(a)-<span class="kw">min</span>(a))</code></pre></div>
<pre><code>##  [1] 0.4510638 0.4510638 0.5276596 0.4680851 0.3531915 0.3276596 0.1659574
##  [8] 0.5957447 0.5276596 0.3744681 0.3148936 0.2553191 0.2936170 0.2042553
## [15] 0.0000000 0.0000000 0.1829787 0.9361702 0.8510638 1.0000000 0.4723404
## [22] 0.2170213 0.2042553 0.1234043 0.3744681 0.7191489 0.6638298 0.8510638
## [29] 0.2297872 0.3957447 0.1957447 0.4680851</code></pre>
<ul>
<li>Plot the histogram of <code>a</code> using <code>qplot()</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(a)</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-154-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># To set aesthetics, wrap in I()</span>
<span class="kw">qplot</span>(a, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;red&quot;</span>), <span class="dt">fill =</span> <span class="kw">I</span>(<span class="st">&quot;blue&quot;</span>))</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Introduction-to-R,-Rstudio,-and-ggplot2_files/figure-html/unnamed-chunk-155-1.png" width="672" /></p>
<ul>
<li>How many elements in <code>a</code> are larger than 20? (use <code>length()</code>)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># creates a logical vector in which TRUE indicates the element that is larger than 20</span>
a&gt;<span class="dv">20</span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE
## [12] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE
## [23] FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This is a logical indexing where the logical vector </span>
<span class="co"># within the subsetting operator (i.e., []) will create a vector with elements larger than 20. </span>
a[a&gt;<span class="dv">20</span>]</code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 24.4 22.8 32.4 30.4 33.9 21.5 27.3 26.0 30.4 21.4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(a[a&gt;<span class="dv">20</span>])</code></pre></div>
<pre><code>## [1] 14</code></pre>
<ul>
<li>How many elements in <code>a</code> are larger than 20? (use <code>sum()</code>)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># same result</span>
<span class="co"># this happens because of &quot;vectorization&quot; and &quot;type conversion&quot;</span>
<span class="kw">sum</span>(a&gt;<span class="dv">20</span>)</code></pre></div>
<pre><code>## [1] 14</code></pre>
<p><code>txhousing</code> is a tibble in <code>ggplot2</code> containing information about the housing market in Texas provided by the TAMU real estate center. In the dataset, <code>median</code> represents median sale price. <code>txhousing$median</code> allows us to access the <code>median</code> variable in the <code>txhousing</code> tibble (or dataframe).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span>txhousing$median</code></pre></div>
<ul>
<li><p>Calculate the length of the vector <code>b</code>.</p></li>
<li><p>how many missing values (or NAs) are in <code>b</code>?</p></li>
<li><p>Calculate the mean of <code>b</code> using <code>sum()</code> and <code>length()</code> functions.</p></li>
<li><p>Calculate the mean of <code>b</code> using <code>mean()</code> function.</p></li>
<li><p>Are the two means same? If not, Why? How do we get the same result?</p></li>
<li><p>Calculate the variance of <code>b</code> using <code>sd()</code> function.</p></li>
<li><p>Calculate the variance of <code>b</code> using <code>var()</code> function.</p></li>
<li><p>Plot the histogram of <code>b</code> using <code>qplot()</code>.</p></li>
<li><p>Create a new vector <code>c</code> by removing all missing from <code>b</code>.</p></li>
<li><p>(Using <code>c</code>) What percentage of houses has median sale price larger than $200000?</p></li>
</ul>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">5.13</span> Factors</h2>
<div id="what-is-a-factor" class="section level3">
<h3><span class="header-section-number">5.13.1</span> What is a factor?</h3>
<ul>
<li>Factors are used to represent <strong>categorical data</strong> (e.g., gender, states).</li>
<li>Factors are stored as <strong>a vector of integer values</strong> associated with <strong>a set of character values</strong> (<code>levels</code>) to use when the factor is displayed.</li>
<li>Factor have two attributes
<ul>
<li>the <strong><code>class()</code></strong>, â€œfactorâ€, which make factors behave differently from regular integer vectors, and</li>
<li>the <strong><code>levels()</code></strong>, which defines the set of allowed values.</li>
</ul></li>
</ul>
</div>
<div id="creating-a-factor" class="section level3">
<h3><span class="header-section-number">5.13.2</span> Creating a factor</h3>
<ul>
<li>The function <code>factor()</code> is used to encode a numeric or character vector as a factor.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># levels are the set of allowed values</span>
f1 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>))
f1</code></pre></div>
<pre><code>## [1] 2 1 1 3 2 1 1
## Levels: 1 2 3</code></pre>
<ul>
<li>Factors are built on top of <strong>integers</strong>, and have a <strong>levels</strong> attribute</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(f1)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(f1)</code></pre></div>
<pre><code>## $levels
## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<ul>
<li><code>levels()</code> displays the levels of a factor</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(f1)</code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<ul>
<li>The factorâ€™s level is <strong>a character vector</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># test for objects of type &quot;character&quot;</span>
<span class="kw">is.character</span>(<span class="kw">levels</span>(f1))</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li>More test functions in R
<ul>
<li><a href="https://r4ds.had.co.nz/vectors.html" class="uri">https://r4ds.had.co.nz/vectors.html</a></li>
</ul></li>
<li>We can change levels</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(f1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>)
f1</code></pre></div>
<pre><code>## [1] two   one   one   three two   one   one  
## Levels: one two three</code></pre>
<ul>
<li>By default, the level of a factor will be displayed in alphabetical order.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f2 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>))
f2</code></pre></div>
<pre><code>## [1] Dec Apr Jan Mar
## Levels: Apr Dec Jan Mar</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(f2)</code></pre></div>
<pre><code>## [1] Apr Dec Jan Mar
## Levels: Apr Dec Jan Mar</code></pre>
<ul>
<li><code>levels</code> option can be used to change the order in which the levels will be displayed from their default sorted order</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">month_levels &lt;-<span class="st"> </span><span class="kw">c</span>(
  <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>, 
  <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>
)
f3 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>), <span class="dt">levels =</span> month_levels)
f3</code></pre></div>
<pre><code>## [1] Dec Apr Jan Mar
## Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># In many cases, this is the result that we expect. </span>
<span class="kw">sort</span>(f3)</code></pre></div>
<pre><code>## [1] Jan Mar Apr Dec
## Levels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(f3)</code></pre></div>
<pre><code>## f3
## Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec 
##   1   0   1   1   0   0   0   0   0   0   0   1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(f2)</code></pre></div>
<pre><code>## f2
## Apr Dec Jan Mar 
##   1   1   1   1</code></pre>
</div>
<div id="unordered-vs-ordered-factor" class="section level3">
<h3><span class="header-section-number">5.13.3</span> unordered vs ordered factor</h3>
<ul>
<li>Although the levels of a factor created by the <code>factor()</code> function has an order for displaying, the factor created by the <code>factor()</code> is called <strong>an unordered factor</strong> in the sense that the factor does not have any meaningful ordering structure. Comparison operators will not work with the unordered factor. Sometimes, we want to specify the meaningful order of a factor by creating <strong>an ordered factor</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the default level is in alphabetical order </span>
f4 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))
f4</code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: high low medium</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(f4)</code></pre></div>
<pre><code>## [1] high   high   low    medium medium
## Levels: high low medium</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f5 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))
f5</code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low medium high</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(f5)</code></pre></div>
<pre><code>## [1] low    medium medium high   high  
## Levels: low medium high</code></pre>
<ul>
<li><p><code>min(f5)</code> and <code>f[1] &lt; f[3]</code> will produce error.</p></li>
<li><p>With <code>ordered = TRUE</code> option, the levels should be regarded as ordered.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f6 &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
f6</code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low &lt; medium &lt; high</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(f6)</code></pre></div>
<pre><code>## [1] low
## Levels: low &lt; medium &lt; high</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f6[<span class="dv">1</span>] &gt;<span class="st"> </span>f6[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li><code>ordered()</code> function also creates <strong>an ordered factor</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f7 &lt;-<span class="st"> </span><span class="kw">ordered</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))
f7</code></pre></div>
<pre><code>## [1] high   low    medium medium high  
## Levels: low &lt; medium &lt; high</code></pre>
</div>
<div id="why-factors" class="section level3">
<h3><span class="header-section-number">5.13.4</span> Why factors?</h3>
<ul>
<li>Factors are an <strong>efficient way</strong> to store character values, because each unique character value is stored only once, and the factor itself is stored as an integer vector.</li>
<li>Factors prevent <strong>typo</strong> because they only allow us to input the pre-defined values.</li>
<li>Factors allow us to encode <strong>ordering structure</strong>.</li>
</ul>
</div>
<div id="some-more-comments" class="section level3">
<h3><span class="header-section-number">5.13.5</span> Some more comments</h3>
<ul>
<li>Be careful. Many base R functions <strong>automatically convert</strong> character vectors into factors. To suppress this default behavior, use <code>stringsAsFactors = FALSE</code> option within a function. You can explicitly convert data type with <code>as.character()</code>, <code>as.double()</code>, <code>as.integer()</code>, and <code>as.logical()</code>.</li>
</ul>
</div>
<div id="exercise-4" class="section level3">
<h3><span class="header-section-number">5.13.6</span> Exercise</h3>
<ul>
<li><p>You have the following responses of a five-point likert scale survey item: <code>x &lt;- c(&quot;Agree&quot;, &quot;Disagree&quot;, &quot;Neutral&quot;, &quot;Agree&quot; ,&quot;Agree&quot;, &quot;Strongly disagree&quot;, &quot;Neutral&quot;)</code>. Create an ordered factor for the <strong>five</strong> point likert scale responses (Notice that you donâ€™t have â€œStrongly agreeâ€ in <code>x</code>, but include â€œStrongly agreeâ€ in your factor level).</p></li>
<li><p>Using the following character vector <code>x = c(&quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;)</code>, create a factor with levels reversed from its default levels order.</p></li>
<li><p>Run the following code and explain what the code is doing.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">7</span>)
x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)
<span class="kw">cut</span>(x, <span class="dt">breaks =</span> <span class="kw">quantile</span>(x))</code></pre></div>
<pre><code>##   [1] (0.72,2.72]    (-1.79,-0.559] (-1.79,-0.559] (-0.559,0.106]
##   [5] (-1.79,-0.559] (-1.79,-0.559] (0.72,2.72]    (-0.559,0.106]
##   [9] (0.106,0.72]   (0.72,2.72]    (0.106,0.72]   (0.72,2.72]   
##  [13] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (0.106,0.72]  
##  [17] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]   
##  [21] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [25] (0.72,2.72]    (0.106,0.72]   (0.72,2.72]    (0.106,0.72]  
##  [29] (-1.79,-0.559] (-0.559,0.106] (-1.79,-0.559] (0.106,0.72]  
##  [33] (0.106,0.72]   (-0.559,0.106] (-0.559,0.106] (-1.79,-0.559]
##  [37] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (0.106,0.72]  
##  [41] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (-1.79,-0.559]
##  [45] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]    (0.106,0.72]  
##  [49] (-0.559,0.106] (0.72,2.72]    (-0.559,0.106] (-0.559,0.106]
##  [53] (0.106,0.72]   (0.72,2.72]    (0.72,2.72]    (0.106,0.72]  
##  [57] (-1.79,-0.559] (0.106,0.72]   (0.106,0.72]   (-1.79,-0.559]
##  [61] (-0.559,0.106] (0.106,0.72]   (0.106,0.72]   (0.106,0.72]  
##  [65] (0.106,0.72]   (0.72,2.72]    (0.72,2.72]    (0.72,2.72]   
##  [69] (0.72,2.72]    (0.106,0.72]   (0.106,0.72]   (-1.79,-0.559]
##  [73] (-1.79,-0.559] (-1.79,-0.559] (-1.79,-0.559] (-1.79,-0.559]
##  [77] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (0.72,2.72]   
##  [81] (0.106,0.72]   (-0.559,0.106] (-0.559,0.106] (-0.559,0.106]
##  [85] (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106] (-0.559,0.106]
##  [89] &lt;NA&gt;           (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [93] (0.106,0.72]   (0.106,0.72]   (0.72,2.72]    (-1.79,-0.559]
##  [97] (0.72,2.72]    (-1.79,-0.559] (-0.559,0.106] (-0.559,0.106]
## Levels: (-1.79,-0.559] (-0.559,0.106] (0.106,0.72] (0.72,2.72]</code></pre>
</div>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">5.14</span> Lists</h2>
<div id="what-is-a-list" class="section level3">
<h3><span class="header-section-number">5.14.1</span> What is a list?</h3>
<ul>
<li>A list is a <strong>one-dimensional heterogeneou</strong>s data structure. _ Because a list is a one-dimensional data structure, we can index the element of a list using a single number.
<ul>
<li>Unlike a vector, a list is a heterogeneous data structure, meaning that the element of a list can be any object in R.</li>
</ul></li>
</ul>
</div>
<div id="creating-a-list" class="section level3">
<h3><span class="header-section-number">5.14.2</span> Creating a list</h3>
<ul>
<li><code>list()</code> is used to create a list.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="st">&quot;a&quot;</span>, <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="fl">1.2</span>, <span class="fl">3.3</span>, <span class="fl">4.6</span>, <span class="fl">6.6</span>))
x</code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3 4 5 6
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1]  TRUE  TRUE FALSE
## 
## [[4]]
## [1] 1.2 3.3 4.6 6.6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str() display the internal structure of an R object</span>
<span class="kw">str</span>(x)</code></pre></div>
<pre><code>## List of 4
##  $ : int [1:6] 1 2 3 4 5 6
##  $ : chr &quot;a&quot;
##  $ : logi [1:3] TRUE TRUE FALSE
##  $ : num [1:4] 1.2 3.3 4.6 6.6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(x)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
</div>
<div id="why-lists" class="section level3">
<h3><span class="header-section-number">5.14.3</span> Why lists?</h3>
<ul>
<li>Because of its flexible structure, many R functions store their outputs as a list, and return the list.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># In R, lm() is a function that fits a regression model to data.</span>
<span class="co"># In the following R expression, &#39;mpg&#39; is a dependent variable</span>
<span class="co"># and `disp` and `cyl` are independent variable. </span>
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>cyl, <span class="dt">data =</span> mtcars)
fit</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp + cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)         disp          cyl  
##    34.66099     -0.02058     -1.58728</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(fit)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(fit)</code></pre></div>
<pre><code>## List of 12
##  $ coefficients : Named num [1:3] 34.661 -0.0206 -1.5873
##   ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot;
##  $ residuals    : Named num [1:32] -0.844 -0.844 -3.289 1.573 4.147 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ effects      : Named num [1:32] -113.65 -28.44 -6.81 2.04 4.06 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot; &quot;&quot; ...
##  $ rank         : int 3
##  $ fitted.values: Named num [1:32] 21.8 21.8 26.1 19.8 14.6 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ assign       : int [1:3] 0 1 2
##  $ qr           :List of 5
##   ..$ qr   : num [1:32, 1:3] -5.657 0.177 0.177 0.177 0.177 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##   .. .. ..$ : chr [1:3] &quot;(Intercept)&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:3] 0 1 2
##   ..$ qraux: num [1:3] 1.18 1.09 1.19
##   ..$ pivot: int [1:3] 1 2 3
##   ..$ tol  : num 1e-07
##   ..$ rank : int 3
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 29
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = mpg ~ disp + cyl, data = mtcars)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language mpg ~ disp + cyl
##   .. ..- attr(*, &quot;variables&quot;)= language list(mpg, disp, cyl)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:3, 1:2] 0 1 0 0 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. .. .. ..$ : chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. ..- attr(*, &quot;order&quot;)= int [1:2] 1 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(mpg, disp, cyl)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:3] &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##  $ model        :&#39;data.frame&#39;:   32 obs. of  3 variables:
##   ..$ mpg : num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##   ..$ disp: num [1:32] 160 160 108 258 360 ...
##   ..$ cyl : num [1:32] 6 6 4 6 8 6 8 4 4 6 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language mpg ~ disp + cyl
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(mpg, disp, cyl)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:3, 1:2] 0 1 0 0 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##   .. .. .. .. ..$ : chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr [1:2] &quot;disp&quot; &quot;cyl&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int [1:2] 1 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(mpg, disp, cyl)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:3] &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;mpg&quot; &quot;disp&quot; &quot;cyl&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;</code></pre>
</div>
<div id="subsetting-a-list" class="section level3">
<h3><span class="header-section-number">5.14.4</span> Subsetting a List</h3>
<ul>
<li>Subsetting a list works in the same way as subsetting an atomic vector. Using <code>[ ]</code> will always return a list; <code>[[ ]]</code> and <code>$</code> let you pull out the components of the list.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">stud.id=</span><span class="dv">34453</span>,      <span class="co"># creat a list</span>
               <span class="dt">stud.name=</span><span class="st">&quot;John&quot;</span>, 
               <span class="dt">stud.marks=</span><span class="kw">c</span>(<span class="fl">14.3</span>,<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">19</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.lst</code></pre></div>
<pre><code>## $stud.id
## [1] 34453
## 
## $stud.name
## [1] &quot;John&quot;
## 
## $stud.marks
## [1] 14.3 12.0 15.0 19.0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># [ ] extracts a sub-list </span>
my.lst[<span class="dv">1</span>]</code></pre></div>
<pre><code>## $stud.id
## [1] 34453</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(my.lst[<span class="dv">1</span>])</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># [[ ]] extracts the value of an individual element </span>
my.lst[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## [1] 34453</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(my.lst[[<span class="dv">1</span>]])</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># my.lst[[3]] will index the third element of a list, which is a numeric vector</span>
<span class="co"># my.lst[[3]][2] will index the second element of the numeric vector</span>
my.lst[[<span class="dv">3</span>]][<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># In the case of lists with named elements</span>
<span class="co"># $ extracts the value of an individual element </span>
my.lst$stud.id</code></pre></div>
<pre><code>## [1] 34453</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(my.lst$stud.id)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="exercise-5" class="section level3">
<h3><span class="header-section-number">5.14.5</span> Exercise</h3>
<p><code>fit</code> is a list that contains the outputs of the <code>lm()</code> function for linear regression. Explore the structure of the <code>fit</code> object using <code>str()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>cyl, <span class="dt">data =</span> mtcars)
fit</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp + cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)         disp          cyl  
##    34.66099     -0.02058     -1.58728</code></pre>
<ul>
<li>Extract the coefficient of â€œInterceptâ€ with indexing using a positive integer.</li>
<li>Extract the coefficient of â€œInterceptâ€ with indexing using a name.</li>
</ul>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">5.14.6</span> Data frames</h3>
<ul>
<li>A data frame is a <strong>list</strong> of <strong>equal-length vectors</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(iris)</code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(iris)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(iris)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div id="the-apply-family-of-functions" class="section level3">
<h3><span class="header-section-number">5.14.7</span> The apply family of functions</h3>
<ul>
<li>The <code>apply()</code> family of functions refers to <code>apply()</code>, <code>lapply()</code>, <code>sapply()</code>, <code>vapply()</code>, <code>mapply()</code>, <code>rapply()</code>, and <code>tapply()</code>.</li>
<li>Why do we need them?
<ul>
<li>They will make your code much <strong>shorter</strong> by replacing your own copy and paste</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># A motivating example: check the number of missing values in each column of the following data frame &#39;m&#39;</span>
m &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="ot">NA</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>,<span class="ot">NA</span>), <span class="dt">ncol =</span> <span class="dv">4</span>))
m</code></pre></div>
<pre><code>##   X1 X2 X3 X4
## 1  1  4  7 NA
## 2  2 NA NA NA
## 3  3  6 NA NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(m$X1))</code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(m$X2))</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(m$X3))</code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(m$X4))</code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li><code>lapply(X, FUN)</code>
<ul>
<li>X = a list object in R</li>
<li>FUN = a function in R</li>
</ul></li>
<li><code>lapply()</code>
<ul>
<li>takes a function (FUN)</li>
<li>applies it to each element of a list (X)</li>
<li>and returns the results in the form of a list</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This one line of code will still work even when the number of columns are 1000 or more. </span>
<span class="kw">lapply</span>(m, function(x) <span class="kw">sum</span>(<span class="kw">is.na</span>(x)))</code></pre></div>
<pre><code>## $X1
## [1] 0
## 
## $X2
## [1] 1
## 
## $X3
## [1] 2
## 
## $X4
## [1] 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># lapply() returns a list, whereas sapply() returns a vector, matrix, or array. </span>
<span class="kw">sapply</span>(m, function(x) <span class="kw">sum</span>(<span class="kw">is.na</span>(x)))</code></pre></div>
<pre><code>## X1 X2 X3 X4 
##  0  1  2  3</code></pre>
</div>
<div id="exercise-6" class="section level3">
<h3><span class="header-section-number">5.14.8</span> Exercise</h3>
<ul>
<li>How many columns in the <code>bfi</code> dataset have missing values more than 20?</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(psych)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;psych&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(bfi)</code></pre></div>
<pre><code>##       A1 A2 A3 A4 A5 C1 C2 C3 C4 C5 E1 E2 E3 E4 E5 N1 N2 N3 N4 N5 O1 O2 O3
## 61617  2  4  3  4  4  2  3  3  4  4  3  3  3  4  4  3  4  2  2  3  3  6  3
## 61618  2  4  5  2  5  5  4  4  3  4  1  1  6  4  3  3  3  3  5  5  4  2  4
## 61620  5  4  5  4  4  4  5  4  2  5  2  4  4  4  5  4  5  4  2  3  4  2  5
## 61621  4  4  6  5  5  4  4  3  5  5  5  3  4  4  4  2  5  2  4  1  3  3  4
## 61622  2  3  3  4  5  4  4  5  3  2  2  2  5  4  5  2  3  4  4  3  3  3  4
## 61623  6  6  5  6  5  6  6  6  1  3  2  1  6  5  6  3  5  2  2  3  4  3  5
##       O4 O5 gender education age
## 61617  4  3      1        NA  16
## 61618  3  3      2        NA  18
## 61620  5  2      2        NA  17
## 61621  3  5      2        NA  17
## 61622  3  3      1        NA  17
## 61623  6  1      2         3  21</code></pre>
</div>
<div id="more-resources-1" class="section level3">
<h3><span class="header-section-number">5.14.9</span> More resources</h3>
<ul>
<li>For more details about a vector, factor, and list, see Ch20 in R for Data Science (<a href="https://r4ds.had.co.nz/vectors.html" class="uri">https://r4ds.had.co.nz/vectors.html</a>).</li>
<li>For more details about the apply family of functions, see a nice introduction in Data Camp (<a href="https://www.datacamp.com/community/tutorials/r-tutorial-apply-family" class="uri">https://www.datacamp.com/community/tutorials/r-tutorial-apply-family</a>).</li>
</ul>
</div>
</div>
<div id="matrices-and-arrays" class="section level2">
<h2><span class="header-section-number">5.15</span> Matrices and Arrays</h2>
<ul>
<li>matrices and arrays are <strong>implemented as vectors</strong> with special attributes</li>
<li>Adding a <strong><code>dim()</code> attribute</strong> to an atomic vector allows it to behave like a multi-dimensional array.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">6</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get or set specific attributes of an object.</span>
<span class="kw">attr</span>(a, <span class="st">&quot;dim&quot;</span>) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a</code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># by default, a matrix is filled by column</span>
a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>, <span class="dt">nrow=</span><span class="dv">2</span>)
a</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>)
a</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># a matrix can be filled by row using `byrow = TRUE`</span>
a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="dt">ncol=</span><span class="dv">3</span>, <span class="dt">nrow=</span><span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
a</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(a)</code></pre></div>
<pre><code>## $dim
## [1] 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(a)</code></pre></div>
<pre><code>## [1] 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span>:<span class="dv">12</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>))
b</code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]    7    9   11
## [2,]    8   10   12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(b)</code></pre></div>
<pre><code>## [1] 2 3 2</code></pre>
<ul>
<li><code>length()</code> generalises to <code>nrow()</code> and <code>ncol()</code> for matrices, and <code>dim()</code> for arrays.</li>
<li><code>names()</code> generalises to <code>rownames()</code> and <code>colnames()</code> for matrices, and <code>dimnames()</code>, a list of character vectors, for arrays.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">43</span>, <span class="dv">56</span>, <span class="dv">21</span>, <span class="dv">30</span>), <span class="dv">2</span>, <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
<span class="kw">colnames</span>(results) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1qrt&quot;</span>, <span class="st">&quot;2qrt&quot;</span>, <span class="st">&quot;3qrt&quot;</span>, <span class="st">&quot;4qrt&quot;</span>)
<span class="kw">rownames</span>(results) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;store1&quot;</span>, <span class="st">&quot;store2&quot;</span>)
results</code></pre></div>
<pre><code>##        1qrt 2qrt 3qrt 4qrt
## store1   10   30   40   50
## store2   43   56   21   30</code></pre>
</div>
<div id="data-frames-1" class="section level2">
<h2><span class="header-section-number">5.16</span> Data Frames</h2>
<ul>
<li>A data frame is a <strong>list</strong> of <strong>equal-length vectors</strong>.</li>
<li>A data frame is the <strong>most common way</strong> of storing data in R.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x=</span><span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">y=</span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))
df</code></pre></div>
<pre><code>##   x y
## 1 1 a
## 2 2 b
## 3 3 c</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># display the internal structure of an R object</span>
<span class="kw">str</span>(df) </code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x: int  1 2 3
##  $ y: Factor w/ 3 levels &quot;a&quot;,&quot;b&quot;,&quot;c&quot;: 1 2 3</code></pre>
<ul>
<li><code>data.frame()</code> converts strings into factors by default.
<ul>
<li>This default setting can cause serious problems in some cases.</li>
<li><code>stringAsFactors = FALSE</code> suppresses this default setting.</li>
<li>Using <code>str()</code> to check data types is always a good practice.</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x=</span><span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">y=</span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(df) <span class="co"># display the internal structure of an R object</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x: int  1 2 3
##  $ y: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
</div>
<div id="operators" class="section level2">
<h2><span class="header-section-number">5.17</span> Operators</h2>
<ul>
<li>Arithmetic Operators</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>addition</td>
</tr>
<tr class="even">
<td>-</td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td>*</td>
<td>multiplication</td>
</tr>
<tr class="even">
<td>/</td>
<td>division</td>
</tr>
<tr class="odd">
<td>^ or **</td>
<td>exponentiation</td>
</tr>
</tbody>
</table>
<ul>
<li>Logical Operators</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than equal to</td>
</tr>
<tr class="odd">
<td>==</td>
<td>exactly equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td>!x</td>
<td>Not x</td>
</tr>
<tr class="even">
<td>x|y</td>
<td>x OR y</td>
</tr>
<tr class="odd">
<td>x&amp;Y</td>
<td>x AND y</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> ==<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;a&quot;</span> !=<span class="st"> &quot;b&quot;</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dv">1</span> ==<span class="st"> </span><span class="dv">2</span>) |<span class="st"> </span>(<span class="st">&quot;a&quot;</span> !=<span class="st"> &quot;b&quot;</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dv">1</span> ==<span class="st"> </span><span class="dv">2</span>) &amp;<span class="st"> </span>(<span class="st">&quot;a&quot;</span> !=<span class="st"> &quot;b&quot;</span>)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="subsetting-a-matrix-and-array" class="section level2">
<h2><span class="header-section-number">5.18</span> Subsetting a Matrix and Array</h2>
<ul>
<li>You can supply 1d index for each dimension.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)
<span class="kw">colnames</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)
a</code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8
## [3,] 3 6 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>), <span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>)]</code></pre></div>
<pre><code>##      B A
## [1,] 4 1
## [2,] 6 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="dv">1</span>, <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]</code></pre></div>
<pre><code>## B C 
## 4 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># If you omit any dimension, you obtain full columns or rows</span>
a[<span class="dv">2</span>,]</code></pre></div>
<pre><code>## A B C 
## 2 5 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[,<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a</code></pre></div>
<pre><code>##      A B C
## [1,] 1 4 7
## [2,] 2 5 8
## [3,] 3 6 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &gt;<span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>##          A    B    C
## [1,] FALSE TRUE TRUE
## [2,] FALSE TRUE TRUE
## [3,] FALSE TRUE TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[a&gt;<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>
a</code></pre></div>
<pre><code>##      A  B  C
## [1,] 1 NA NA
## [2,] 2 NA NA
## [3,] 3 NA NA</code></pre>
</div>
<div id="exercise-7" class="section level2">
<h2><span class="header-section-number">5.19</span> Exercise</h2>
<ul>
<li><p><code>mtcars</code> is a fuel economy dataset. Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, and <code>gear</code> variables with 6 cylinders.</p></li>
<li><p>Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, <code>disp</code>, <code>hp</code>, <code>dart</code>, <code>wt</code>, <code>qsec</code>, and <code>am</code> variables with 4 or 6 cylinders.</p></li>
<li><p>Subset the <code>mtcars</code> dataset such that you only keep <code>mpg</code>, <code>cyl</code>, <code>disp</code>, <code>hp</code>, <code>dart</code>, <code>wt</code>, <code>qsec</code>, and <code>am</code> variables with 4 or 6 cylinders, and <code>mpg</code> larger than 20.</p></li>
</ul>
</div>
<div id="combine-matrices-by-columns-or-rows" class="section level2">
<h2><span class="header-section-number">5.20</span> Combine Matrices by Columns or Rows</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># combine by columns</span>
<span class="kw">cbind</span>(a,a)   </code></pre></div>
<pre><code>##      A  B  C A  B  C
## [1,] 1 NA NA 1 NA NA
## [2,] 2 NA NA 2 NA NA
## [3,] 3 NA NA 3 NA NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># combine by rows</span>
<span class="kw">rbind</span>(a,a)   </code></pre></div>
<pre><code>##      A  B  C
## [1,] 1 NA NA
## [2,] 2 NA NA
## [3,] 3 NA NA
## [4,] 1 NA NA
## [5,] 2 NA NA
## [6,] 3 NA NA</code></pre>
</div>
<div id="names-of-the-columns-and-rows-of-matrices" class="section level2">
<h2><span class="header-section-number">5.21</span> Names of the Columns and Rows of Matrices</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(a) </code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rownames</span>(a) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;F&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rownames</span>(a)</code></pre></div>
<pre><code>## [1] &quot;D&quot; &quot;E&quot; &quot;F&quot;</code></pre>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">5.22</span> Functions</h2>
<ul>
<li>R functions are a special type of <strong>R object</strong> designed to carry out <strong>some operation</strong>.</li>
<li>R functions, like mathematical functions, are applied to some set of <strong>arguments</strong> and produce a <strong>result</strong>.</li>
<li><strong>output = function_name(argument)</strong></li>
<li>In R, both the arguments that we provide when we call the function and the result of the function execution are <strong>R objects</strong> whose type will depend on the function.</li>
<li>R functions range from simple objects implementing some standard <strong>calculation</strong>, e.g.Â calculating the square root of a number, to more complex functions that can obtain some <strong>model</strong> of a dataset, e.g.Â a neural network.</li>
</ul>
</div>
<div id="an-example-of-functions" class="section level2">
<h2><span class="header-section-number">5.23</span> An Example of Functions</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># call (execute or run) the mean() function</span>
<span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))    </code></pre></div>
<pre><code>## [1] 2.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># a will store the object returned by the mean()</span>
a &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))   </code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mean() will not work with NA</span>
<span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>,<span class="dv">4</span>))     </code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># When na.rm = TRUE, NA will be removed before computation</span>
<span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>,<span class="dv">4</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)    </code></pre></div>
<pre><code>## [1] 2.333333</code></pre>
</div>
<div id="user-defined-functions" class="section level2">
<h2><span class="header-section-number">5.24</span> User-Defined Functions</h2>
<ul>
<li>We can write our own functions easily</li>
<li>function.name &lt;- function(arg1, arg2, arg3){body}</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define se() function that calculate the standard error</span>
se &lt;-<span class="st"> </span>function(x) {
  v &lt;-<span class="st"> </span><span class="kw">var</span>(x)
  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)
  <span class="kw">return</span>(<span class="kw">sqrt</span>(v/n))
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mySample &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">20</span>, <span class="dt">sd=</span><span class="dv">4</span>)
<span class="kw">se</span>(mySample)</code></pre></div>
<pre><code>## [1] 0.3795976</code></pre>
</div>
<div id="exercise-8" class="section level2">
<h2><span class="header-section-number">5.25</span> Exercise</h2>
<p>The follow code will generate two numeric vectors randomly sampled from N(0,1) and N(3,2).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">0</span>, <span class="dt">sd=</span><span class="dv">1</span>)  <span class="co"># generate 100 random numbers from Normal(0,1)</span>
x2 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">3</span>, <span class="dt">sd=</span><span class="dv">2</span>)  <span class="co"># generate 100 random numbers from Normal(3,2)</span></code></pre></div>
<p>Write your own function that returns (simplified) Cohenâ€™s d = <span class="math inline">\(\frac{mean(x_2)-mean(x_1)}{sd(x_1)}\)</span>. Specifically, your function should get the above two vectors x1 and x2 as function arguments and return d. For fun, letâ€™s use your own name as the name of this function. Check whether your function actually work by running <code>your_name(x1,x2)</code>.</p>
</div>
<div id="some-comments-on-functions" class="section level2">
<h2><span class="header-section-number">5.26</span> Some Comments on Functions</h2>
<ul>
<li>Functions are <strong>a fundamental building block</strong> of R.</li>
<li>We can creat our own functions, but we usually use functions made by others.</li>
<li>Packages are <strong>a collection of functions</strong> made by others.</li>
<li>In many cases, our job is to build a <strong>pipeline</strong> of data flow by connecting many available functions.</li>
<li>To do that, we have to handle the input objects (argument) and output objects (returned objects) of functions, which requires knowledge about <strong>data structure</strong> (e.g., creating, subsetting).</li>
</ul>
</div>
<div id="generating-sequences" class="section level2">
<h2><span class="header-section-number">5.27</span> Generating Sequences</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># creating a vector containing integers between 1 and 10</span>
<span class="dv">1</span>:<span class="dv">10</span> </code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span>:<span class="dv">0</span></code></pre></div>
<pre><code>## [1] 5 4 3 2 1 0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">1</span>, <span class="dt">to=</span><span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.5</span>)</code></pre></div>
<pre><code>## [1] 1.0 1.5 2.0 2.5 3.0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rep() replicates each term in formula</span>
<span class="kw">rep</span>(<span class="dv">5</span>,<span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] 5 5 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>:<span class="dv">2</span>, <span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] 1 2 1 2 1 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>:<span class="dv">2</span>, <span class="dt">each=</span><span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] 1 1 1 2 2 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># gl() generates sequences involving factors</span>
<span class="co"># gl(k,n), k = the number of levels, </span>
<span class="co"># n = the number of repetitions.</span>
<span class="kw">gl</span>(<span class="dv">5</span>,<span class="dv">3</span>)</code></pre></div>
<pre><code>##  [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5
## Levels: 1 2 3 4 5</code></pre>
</div>
<div id="control-flow-if-else" class="section level2">
<h2><span class="header-section-number">5.28</span> Control Flow (if-else)</h2>
<ul>
<li>Control flow = the order in which individual statement are executed (or evaluated)</li>
<li>Selection
<ul>
<li><strong>if</strong> (condition) expression: If the condition is <code>TRUE</code>, the expression gets executed.</li>
<li><strong>if</strong> (condition) expression1 <strong>else</strong> expression2: The <code>else</code> part is only executed if the condition if <code>FALSE</code>.</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>-<span class="dv">5</span>
if (x&gt;<span class="dv">0</span>) {
  <span class="kw">print</span>(<span class="st">&quot;Positive number&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;Negative number&quot;</span>)
}</code></pre></div>
<pre><code>## [1] &quot;Negative number&quot;</code></pre>
</div>
<div id="control-flow-for" class="section level2">
<h2><span class="header-section-number">5.29</span> Control Flow (for)</h2>
<ul>
<li><strong>for (value in sequence) {statements}</strong></li>
<li><code>for loop</code> allows us to <strong>repeat (loop)</strong> through the elements in a vector and run the code inside the block within curly brackets.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">for (i in <span class="dv">1</span>:<span class="dv">3</span>) {
  <span class="kw">print</span>(i^<span class="dv">2</span>)
}</code></pre></div>
<pre><code>## [1] 1
## [1] 4
## [1] 9</code></pre>
</div>
<div id="control-flow-for-1" class="section level2">
<h2><span class="header-section-number">5.30</span> Control Flow (for)</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># count the number of even numbers</span>
x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">11</span>,<span class="dv">6</span>)
count &lt;-<span class="st"> </span><span class="dv">0</span>
for (val in x) {
  if(val %%<span class="st"> </span><span class="dv">2</span> ==<span class="st"> </span><span class="dv">0</span>)  count =<span class="st"> </span>count<span class="dv">+1</span>
}
<span class="kw">print</span>(count)</code></pre></div>
<pre><code>## [1] 3</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="base-r-quiz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-BaseR.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["Introduction to R, Rstudio, and ggplot2.pdf", "Introduction to R, Rstudio, and ggplot2.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
